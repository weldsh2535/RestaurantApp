{"version":3,"sources":["webpack:///src/app/Service/restaurant.service.ts","webpack:///src/app/driver-home/driver-home-routing.module.ts","webpack:///src/app/driver-home/driver-home.module.ts","webpack:///src/app/driver-home/driver-home.page.ts","webpack:///src/app/driver-home/driver-home.page.html","webpack:///src/app/driver-home/driver-home.page.scss"],"names":["RestaurantService","db","restaurantCollectionList","collection","restaurantObj","add","restaurantList","snapshotChanges","pipe","actions","map","a","data","payload","doc","id","valueChanges","update","handleError","error","status","json","providedIn","routes","path","component","DriverHomePageRoutingModule","imports","forChild","exports","DriverHomePageModule","declarations","DriverHomePage","fb","foodService","orderService","accountService","orderDetailsService","router","sharedService","restaurantService","driverservice","listOfOrder","cart","regform","group","selectedIng","numberOfChecks","checkBoxLimit","dayFinished","driverstatus","getFood","getOrder","getAllOrder","getAccount","getOrderDetails","getRestaurant","getDriver","getAllDriver","subscribe","res","listOfDriver","getAllRestaurant","listOfRestaurant","getAllFood","listOfFood","getAllAccount","listOfAccount","getAllOrderDetail","listOfOrderDetails","result","listOfAllOrder","meal","includes","event","detail","value","OrderStatus","item","find","c","val","splice","indexOf","push","userId","localStorage","getItem","forEach","element","checked","driverS","location","lat","Location","lon","length","orderNo","DateTime","Customer","Total","Driver","Vehicle","orderLocation","restaurantStatus","RestaurantId","updateOrder","order","filter","restaurant","accountId","restaurantName","Name","FullName","PhoneNumber","phonenumber","CLocation","FirstTimeLocation","RLocation","isChecked","undefined","setDisabled","orderDetails","OrderId","el","CookingTime","Food","DeliveryTime","Description","Price","amount","Qty","categoryId","picture","restaurantId","type","orderDetailsId","orderStatus","addOrder","next","navigate","RestaurantLocation","selector","template"],"mappings":"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","file":"driver-home-driver-home-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject,Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Restaurant } from 'src/Table/table';\nimport { BadInput } from '../common/bad-input';\nimport { NotFoundError } from '../common/not-found-error';\nimport { AppError } from '../common/app-error';\n@Injectable({\n  providedIn: 'root'\n})\nexport class RestaurantService {\n \n  private restaurantCollectionList: AngularFirestoreCollection<any>;\n  private restaurantList: Observable<any[]>;\n  constructor(private db: AngularFirestore) {\n    this.restaurantCollectionList = db.collection<Restaurant>('Restaurant');\n  }\n  create(restaurantObj) { \n    return this.restaurantCollectionList.add(restaurantObj)\n  }\n  getAllRestaurant() {\n    this.restaurantList = this.restaurantCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.restaurantList;\n  }\n  getRestaurant(id) {\n    return this.restaurantCollectionList.doc<any>(id).valueChanges();\n  }\n  updateRestaurant(restaurantObj: Restaurant, id: string) {\n    return this.restaurantCollectionList.doc(id).update(restaurantObj)\n    .catch(this.handleError);\n  }\n  removeRestaurant(id) {\n    return this.restaurantCollectionList.doc(id).delete()\n    .catch(this.handleError);\n  }\n  private handleError(error: Response) {\n    if (error.status === 400)\n      return Observable.throw(new BadInput(error.json()));\n  \n    if (error.status === 404)\n      return Observable.throw(new NotFoundError());\n    \n    return Observable.throw(new AppError(error));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DriverHomePage } from './driver-home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DriverHomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DriverHomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DriverHomePageRoutingModule } from './driver-home-routing.module';\n\nimport { DriverHomePage } from './driver-home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DriverHomePageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [DriverHomePage]\n})\nexport class DriverHomePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport LocationPicker from 'location-picker';\nimport { Account, Driver, Order, OrderDetail, Restaurant } from 'src/Table/table';\nimport { AccountService } from '../Service/account.service';\nimport { DriverService } from '../Service/driver.service';\nimport { FoodService } from '../Service/food.service';\nimport { OrderDetailService } from '../Service/order-detail.service';\nimport { OrderService } from '../Service/order.service';\nimport { RestaurantService } from '../Service/restaurant.service';\nimport { SharedService } from '../Service/shared.service';\n\n@Component({\n  selector: 'app-driver-home',\n  templateUrl: './driver-home.page.html',\n  styleUrls: ['./driver-home.page.scss'],\n})\nexport class DriverHomePage implements OnInit {\n  id: string;\n  listOfFood: any;\n  picture: any;\n  name: any;\n  listOfOrder: any[] = [];\n  listOfAccount: Account[];\n  listOfOrderDetails: OrderDetail[];\n  cart: any[] = [];\n  lp: LocationPicker;\n  listOfRestaurant: Restaurant[];\n  btnDisabled: boolean;\n\n  regform = this.fb.group({});\n  listOfAllOrder: Order[];\n  defaultStatusIndex: string;\n  defaultValue: { val: string; };\n  listOfDriver: Driver[];\n  selectedIng: Array<any> = [];\n  numberOfChecks: number = 1;\n  checkBoxLimit: any = 1;\n  dayFinished = [];\n  checked: boolean;\n  driverstatus: any[] = [];\n  status: any;\n  constructor(private fb: FormBuilder,\n    private foodService: FoodService,\n    private orderService: OrderService,\n    private accountService: AccountService,\n    private orderDetailsService: OrderDetailService,\n    private router: Router,\n    private sharedService: SharedService,\n    private restaurantService: RestaurantService,\n    private driverservice: DriverService\n    // private _Activatedroute:ActivatedRoute,\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.regform = this.fb.group({\n      status: [\"\"],\n    })\n    this.getFood();\n    this.getOrder();\n    this.getAllOrder();\n    this.getAccount();\n    this.getOrderDetails();\n    this.getRestaurant();\n    this.getDriver();\n    // this.id = this._Activatedroute.snapshot.paramMap.get(\"id\");\n    //this.lp = new LocationPicker('map');\n  }\n  getDriver() {\n    this.driverservice.getAllDriver().subscribe(res => {\n      this.listOfDriver = res;\n    })\n  }\n  getRestaurant() {\n    this.restaurantService.getAllRestaurant().subscribe(res => {\n      this.listOfRestaurant = res;\n    })\n  }\n  getFood() {\n    this.foodService.getAllFood().subscribe(res => {\n      this.listOfFood = res;\n    })\n  }\n  getAccount() {\n    this.accountService.getAllAccount().subscribe(res => {\n      this.listOfAccount = res;\n    })\n  }\n  getOrderDetails() {\n    this.orderDetailsService.getAllOrderDetail().subscribe(res => {\n      this.listOfOrderDetails = res;\n    })\n  }\n  getAllOrder() {\n    this.orderService.getAllOrder().subscribe(result => {\n      this.listOfAllOrder = result;\n    });\n  }\n\n  setDisabled(meal) {\n    return this.dayFinished.includes(meal);\n  }\n\n  companyFormSelected(event, meal) {\n    this.driverstatus = [];\n    this.status = event.detail.value;\n    let status = meal.OrderStatus;\n    let item = status.find(c => c.val == event.detail.value);\n    if (this.dayFinished.includes(item)) {\n      this.dayFinished.splice(this.dayFinished.indexOf(item), 1);\n    }\n    else {\n      this.dayFinished.push(item);\n    }\n    let res = this.listOfAllOrder.find(c => c.id == meal.id);\n    let userId = localStorage.getItem(\"userId\");\n    status.forEach(element => {\n      if (element.val == item.val) {\n        this.checked = true\n      }\n      else {\n        this.checked = false\n      }\n      let driverS = {\n        id: element.id,\n        val: element.val,\n        checked: this.checked\n      }\n      this.driverstatus.push(driverS);\n    });\n    let location = {\n      lat: res.Location.lat,\n      lon: res.Location.lon\n    }\n    if (this.driverstatus.length > 0) {\n      let data = {\n        id: res.id,\n        orderNo: res.orderNo,\n        DateTime: res.DateTime,\n        Customer: res.Customer, //\n        Location: location, //Restaurant\n        OrderStatus: this.driverstatus, //picked,start moving, delivered(finished)\n        Total: res.Total,\n        Driver: userId, //Restaurant\n        Vehicle: res.Vehicle, //Restaurant\n        orderLocation: res.orderLocation,//or droupLocation\n        restaurantStatus: res.restaurantStatus,\n        RestaurantId: res.RestaurantId\n      }\n      this.orderService.updateOrder(data, res.id)\n    }\n  }\n  getOrder() {\n    this.orderService.getAllOrder().subscribe(res => {\n      if (res.length > 0 && this.listOfOrder.length == 0) {\n        let order = res.filter(c => c.OrderStatus.find(c=>c.checked==false && c.val==\"delivered\"))\n        order.forEach(element => {\n          this.accountService.getAllAccount().subscribe(result => {\n            let restaurant = this.listOfRestaurant.find(c => c.accountId == element.RestaurantId)\n            let data = {\n              id: element.id,\n              restaurantName: restaurant.Name,\n              DateTime: element.DateTime,\n              Customer: result.find(c => c.id == element.Customer).FullName,\n              PhoneNumber: result.find(c => c.id == element.Customer).phonenumber,\n              CLocation: result.find(c => c.id == element.Customer).FirstTimeLocation,\n              RLocation: element.Location,\n              status: element.OrderStatus,\n              OrderStatus: element.OrderStatus,\n              Total: element.Total,\n              Driver: element.Driver,\n              Vehicle: element.Vehicle,\n              orderNo: element.orderNo,\n              orderLocation: element.orderLocation,\n              restaurantStatus: element.restaurantStatus.find(c => c.isChecked == true).val\n            }\n            this.listOfOrder.push(data);\n            let status = element.OrderStatus.find(c => c.checked == true);\n            if (status !== undefined) {\n              if (this.dayFinished.includes(status)) {\n                this.dayFinished.splice(this.dayFinished.indexOf(status), 1);\n              }\n              else {\n                this.dayFinished.push(status);\n              }\n              this.setDisabled(status);\n            }\n            // console.log(this.listOfOrder)\n          })\n        });\n      }\n    })\n  }\n  viewOrder(id) {\n    this.cart = [];\n    let orderNo = this.listOfOrder.find(c => c.id == id).orderNo;\n    let orderDetails = this.listOfOrderDetails.filter(c => c.OrderId == orderNo);\n    orderDetails.forEach(el => {\n      let data = {\n        CookingTime: this.listOfFood.find(c => c.id == el.Food).CookingTime,\n        DeliveryTime: this.listOfFood.find(c => c.id == el.Food).DeliveryTime,\n        Description: this.listOfFood.find(c => c.id == el.Food).Description,\n        Name: this.listOfFood.find(c => c.id == el.Food).Name,\n        Price: this.listOfFood.find(c => c.id == el.Food).Price,\n        amount: el.Qty,\n        categoryId: this.listOfFood.find(c => c.id == el.Food).categoryId,\n        id: el.Food,\n        picture: this.listOfFood.find(c => c.id == el.Food).picture,\n        restaurantId: this.listOfFood.find(c => c.id == el.Food).restaurantId,\n        type: this.listOfFood.find(c => c.id == el.Food).type,\n        orderDetailsId: el.id,\n        orderStatus: true\n      }\n      this.cart.push(data);\n    });\n    this.orderService.addOrder(this.cart);\n    this.sharedService.status.next(\"driver\");\n    this.router.navigate([\"/menu/order-history\"]);\n  }\n  location(location) {\n    this.sharedService.status.next(\"driver-home\");\n    this.sharedService.RestaurantLocation.next(location);\n    this.router.navigate([\"/menu/location\"]);\n  }\n\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Driver Home</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div class=\\\"orders\\\">\\n    <ion-row *ngFor=\\\"let meal of listOfOrder ; let i = index\\\" class=\\\"ion-padding meal-row\\\">\\n      <ion-col size=\\\"6\\\" class=\\\"border-bottom\\\">\\n        <ion-label>\\n          {{ meal.restaurantName }}\\n          <p>{{ meal.DateTime }}</p>\\n          <span>\\n            <ion-button (click)=\\\"location(meal.RLocation)\\\">\\n              <ion-icon name=\\\"location-outline\\\"></ion-icon>\\n            </ion-button>\\n          </span>\\n          <p style=\\\"background-color: #f8f9fa; border-radius: 5px; padding-top: 3px; padding-left: 7px; margin-top: 5px;\\\">{{meal.restaurantStatus}}</p>\\n        </ion-label>\\n        <ion-label color=\\\"dark\\\"\\n          ><b>Total : {{ meal.Total | currency:'ETB' }}</b></ion-label\\n        >\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"viewOrder(meal.id)\\\">\\n          view order\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\" class=\\\"border-bottom\\\">\\n        <ion-label>\\n          {{ meal.Customer }}\\n          <p>{{ meal.PhoneNumber }}</p>\\n          <span>\\n            <ion-button (click)=\\\"location(meal.CLocation)\\\">\\n              <ion-icon name=\\\"location-outline\\\"></ion-icon>\\n            </ion-button>\\n          </span>\\n        </ion-label>\\n          <ion-row class=\\\"status\\\" >\\n            <ion-label style=\\\"padding-top: 9px; padding-left: 5px;\\\">Status</ion-label>\\n            <ion-select interface=\\\"popover\\\"  (ionChange)=\\\"companyFormSelected($event,meal)\\\" >\\n              <ion-select-option *ngFor=\\\"let value of meal.OrderStatus ;let j=index \\\" [disabled]=\\\"setDisabled(value)\\\"  [value]=\\\"value.val\\\" >\\n                {{value.val}}\\n              </ion-select-option>\\n            </ion-select>\\n          </ion-row>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n</ion-content>\\n\";","export default \"ion-toolbar ion-icon {\\n  font-size: 25px;\\n}\\n\\nion-content {\\n  position: absolute;\\n  --padding-bottom: 50px;\\n}\\n\\nion-content .orders {\\n  margin-top: 58px;\\n}\\n\\n.light-bg {\\n  background: #ffffff;\\n  z-index: 10;\\n}\\n\\n.meal-row {\\n  padding-bottom: 0px;\\n}\\n\\n.border-bottom {\\n  border-bottom: 1px solid var(--ion-color-step-150, rgba(0, 0, 0, 0.07));\\n}\\n\\n#map {\\n  width: 60%;\\n  height: 280px;\\n}\\n\\nion-row .status {\\n  background-color: #dee2e6;\\n  border-radius: 3px;\\n  margin-top: 4px;\\n}\\n\\nion-button {\\n  margin-top: 2px;\\n}\\n\\nion-row {\\n  border-radius: 12px;\\n  background-color: #e9ecef;\\n  margin-top: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGRyaXZlci1ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLGVBQUE7QUFETjs7QUFLRTtFQUNFLGtCQUFBO0VBQ0Esc0JBQUE7QUFGSjs7QUFHTTtFQUNFLGdCQUFBO0FBRFI7O0FBS0U7RUFDSSxtQkFBQTtFQUNBLFdBQUE7QUFGTjs7QUFNRTtFQUNFLG1CQUFBO0FBSEo7O0FBS0U7RUFDRSx1RUFBQTtBQUZKOztBQUlFO0VBQ0UsVUFBQTtFQUNBLGFBQUE7QUFESjs7QUFHRTtFQUNFLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBQUo7O0FBRUE7RUFDSSxlQUFBO0FBQ0o7O0FBQ0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtBQUVGIiwiZmlsZSI6ImRyaXZlci1ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pb24tdG9vbGJhciB7XHJcbiAgICBpb24taWNvbiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgaW9uLWNvbnRlbnQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgLS1wYWRkaW5nLWJvdHRvbTogNTBweDtcclxuICAgICAgLm9yZGVyc3tcclxuICAgICAgICBtYXJnaW4tdG9wOiA1OHB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgIFxyXG4gIC5saWdodC1iZyB7XHJcbiAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XHJcbiAgICAgIHotaW5kZXg6IDEwO1xyXG4gIH1cclxuICAgXHJcbiAgXHJcbiAgLm1lYWwtcm93IHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XHJcbiAgfVxyXG4gIC5ib3JkZXItYm90dG9tIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsIHJnYmEoMCwgMCwgMCwgMC4wNykpO1xyXG4gIH1cclxuICAjbWFwIHtcclxuICAgIHdpZHRoOiA2MCU7XHJcbiAgICBoZWlnaHQ6IDI4MHB4O1xyXG4gIH1cclxuICBpb24tcm93IC5zdGF0dXN7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGVlMmU2O1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG59XHJcbmlvbi1idXR0b257XHJcbiAgICBtYXJnaW4tdG9wOiAycHg7XHJcbn1cclxuaW9uLXJvd3tcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOWVjZWY7XHJcbiAgbWFyZ2luLXRvcDogNHB4O1xyXG59Il19 */\";"]}