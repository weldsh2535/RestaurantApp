{"version":3,"sources":["./src/app/order/order.module.ts","./src/app/order/order-routing.module.ts","./src/app/order/order.page.html","./src/app/order/order.page.ts","./src/app/order/order.page.scss"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AAEA;AAEmB;AAEvB;IAW5B,eAAe,SAAf,eAAe;CAAG;AAAlB,eAAe;IAT3B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4EAAsB;SACvB;QACD,YAAY,EAAE,CAAC,qDAAS,CAAC;KAC1B,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;ACnBa;AACc;AAEd;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAJlC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;AChBnC;AAAe,+bAAgY,cAAc,0PAA0P,iBAAiB,iBAAiB,iBAAiB,uLAAuL,kBAAkB,0EAA0E,+BAA+B,sQAAsQ,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAhtC;AACO;AAEG;AACN;AACe;AACb;AAEE;AACT;IAMpC,SAAS,SAAT,SAAS;IAcpB,YAAoB,WAAwB,EAClC,YAA0B,EAC1B,cAA8B,EAC9B,mBAAsC,EACtC,MAAa,EACb,aAA2B,EAC3B,SAAyB;IACjC,0CAA0C;;QAPxB,gBAAW,GAAX,WAAW,CAAa;QAClC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,wBAAmB,GAAnB,mBAAmB,CAAmB;QACtC,WAAM,GAAN,MAAM,CAAO;QACb,kBAAa,GAAb,aAAa,CAAc;QAC3B,cAAS,GAAT,SAAS,CAAgB;QAfnC,gBAAW,GAAQ,EAAE,CAAC;QAGtB,SAAI,GAAQ,EAAE,CAAC;IAcX,CAAC;IAEL,QAAQ;QACN,8DAA8D;QAC9D,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,sCAAsC;IACxC,CAAC;IACD,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC5C,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC;IACJ,CAAC;IACD,UAAU;QACR,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAClD,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAC3B,CAAC,CAAC;IACJ,CAAC;IACD,eAAe;QACf,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,GAAG,GAAE;YAC1D,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;QAChC,CAAC,CAAC;IACF,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC9C,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC7C,IAAI,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC;YACtD,IAAG,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC;gBACjB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;oBACvB,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;wBACrD,IAAI,IAAI,GAAE;4BACR,EAAE,EAAC,OAAO,CAAC,EAAE;4BACb,QAAQ,EAAE,OAAO,CAAC,QAAQ;4BAC1B,QAAQ,EAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,QAAQ;4BACxD,QAAQ,EAAE,OAAO,CAAC,QAAQ;4BAC1B,WAAW,EAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,SAAS,IAAG,IAAI,CAAC,CAAC,GAAG;4BACpE,KAAK,EAAC,OAAO,CAAC,KAAK;4BACnB,MAAM,EAAE,OAAO,CAAC,MAAM;4BACtB,OAAO,EAAE,OAAO,CAAC,OAAO;4BACxB,OAAO,EAAC,OAAO,CAAC,OAAO;4BACvB,aAAa,EAAC,OAAO,CAAC,aAAa;yBACpC;wBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC7B,4BAA4B;oBAC7B,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;aACJ;iBACE;gBACL,IAAI,CAAC,MAAM,GAAE,IAAI,CAAC;gBAClB,IAAI,CAAC,YAAY,GAAE,0BAA0B;aAC3C;QACJ,CAAC,CAAC;IACF,CAAC;IACD,SAAS,CAAC,EAAE;QACV,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,IAAI,GAAC,EAAE,CAAC;QACd,IAAI,OAAO,GAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,CAAC,OAAO,CAAC;QAC1D,IAAI,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,OAAO,IAAI,OAAO,CAAC,CAAC;QAC3E,YAAY,CAAC,OAAO,CAAC,EAAE,GAAE;YACzB,IAAI,IAAI,GAAE;gBACT,WAAW,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW;gBAC9D,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,YAAY;gBACjE,WAAW,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW;gBAC9D,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI;gBACjD,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK;gBAClD,MAAM,EAAE,EAAE,CAAC,GAAG;gBACd,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,UAAU;gBAC7D,EAAE,EAAE,EAAE,CAAC,IAAI;gBACX,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO;gBACvD,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,YAAY;gBACjE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI;gBACjD,cAAc,EAAC,EAAE,CAAC,EAAE;gBACpB,WAAW,EAAC,IAAI;aAChB;YACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;IAC/C,CAAC;IACD,QAAQ,CAAC,QAAQ;QACf,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACzC,CAAC;CAEF;;YA1HQ,iEAAW;YAEX,mEAAY;YAHZ,uEAAc;YAEd,gFAAkB;YAJF,sDAAM;YAOtB,qEAAa;YACb,+DAAe;;AAMX,SAAS;IALrB,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,6EAAgC;;KAEjC,CAAC;GACW,SAAS,CA+GrB;AA/GqB;;;;;;;;;;;;;ACftB;AAAe,sFAAuB,oBAAoB,GAAG,iBAAiB,uBAAuB,yBAAyB,2BAA2B,GAAG,yBAAyB,qBAAqB,GAAG,eAAe,wBAAwB,gBAAgB,GAAG,eAAe,wBAAwB,GAAG,oBAAoB,4EAA4E,GAAG,UAAU,eAAe,kBAAkB,GAAG,cAAc,sBAAsB,uBAAuB,mBAAmB,oBAAoB,GAAG,6CAA6C,myCAAmyC,E","file":"order-order-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderPageRoutingModule } from './order-routing.module';\n\nimport { OrderPage } from './order.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderPageRoutingModule\n  ],\n  declarations: [OrderPage]\n})\nexport class OrderPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderPage } from './order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderPageRoutingModule {}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\" >\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Recent orders</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content  [fullscreen]=\\\"true\\\">\\n  <div class=\\\"message\\\" *ngIf=\\\"massge\\\" >\\n    <ion-grid >\\n      <ion-row>\\n        <ion-label>{{messageOrder}}</ion-label>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n  <div class=\\\"orders\\\">\\n    <ion-row *ngFor=\\\"let meal of listOfOrder\\\" class=\\\"ion-padding meal-row\\\">\\n     <ion-col size=\\\"8\\\" class=\\\"border-bottom\\\">\\n        <ion-label>\\n          {{ meal.Customer }}\\n          <p>{{ meal.DateTime }}</p>\\n          <span>\\n            <ion-button (click)=\\\"location(meal.Location)\\\"><ion-icon name=\\\"location-outline\\\" ></ion-icon></ion-button>\\n            </span>\\n          <p>{{meal.OrderStatus}}</p>\\n        </ion-label>\\n        <ion-text color=\\\"dark\\\"><b>Total : {{ meal.Total | currency:'ETB' }}</b></ion-text>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\" class=\\\"border-bottom\\\">\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"viewOrder(meal.id)\\\">\\n          view order\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </div> \\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Account, Food, Order, OrderDetail } from 'src/Table/table';\nimport { AccountService } from '../Service/account.service';\nimport { FoodService } from '../Service/food.service';\nimport { OrderDetailService } from '../Service/order-detail.service';\nimport { OrderService } from '../Service/order.service';\nimport LocationPicker from \"location-picker\";\nimport { SharedService } from '../Service/shared.service';\nimport { AlertController } from '@ionic/angular';\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.page.html',\n  styleUrls: ['./order.page.scss'],\n})\nexport class OrderPage implements OnInit {\n  id: string;\n  listOfFood: any;\n  picture: any;\n  name: any;\n  listOfOrder: any[]=[];\n  listOfAccount: Account[];\n  listOfOrderDetails: OrderDetail[];\n  cart: any[]=[];\n  lp: LocationPicker;\n  UserId: string;\n  messageOrder: string;\n  massge: boolean;\n  countItems: number;\n  constructor(private foodService: FoodService,\n    private orderService: OrderService,\n    private accountService: AccountService,\n    private orderDetailsService:OrderDetailService,\n    private router:Router,\n    private sharedService:SharedService,\n    private alertCtrl:AlertController\n    // private _Activatedroute:ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    // this.id = this._Activatedroute.snapshot.paramMap.get(\"id\");\n    this.getFood();\n    this.getOrder();\n    this.getAccount();\n    this.getOrderDetails();\n    //this.lp = new LocationPicker('map');\n  }\n  getFood() {\n    this.foodService.getAllFood().subscribe(res => {\n      this.listOfFood = res;\n    })\n  }\n  getAccount() {\n    this.accountService.getAllAccount().subscribe(res => {\n      this.listOfAccount = res;\n    })\n  }\n  getOrderDetails(){\n  this.orderDetailsService.getAllOrderDetail().subscribe(res=>{\n    this.listOfOrderDetails = res;\n  })\n  }\n  getOrder() {\n    this.orderService.getAllOrder().subscribe(res => {\n      this.UserId = localStorage.getItem(\"userId\");\n      let result = res.filter(c=>c.Customer == this.UserId);\n      if(result.length>0){\n        result.forEach(element => {\n          this.accountService.getAllAccount().subscribe(result => {\n            let data ={\n              id:element.id,\n              DateTime: element.DateTime,\n              Customer:result.find(c=>c.id==element.Customer).FullName,\n              Location: element.Location,\n              OrderStatus:element.restaurantStatus.find(c=>c.isChecked ==true).val,\n              Total:element.Total,\n              Driver: element.Driver,\n              Vehicle: element.Vehicle,\n              orderNo:element.orderNo,\n              orderLocation:element.orderLocation\n            }\n            this.listOfOrder.push(data);\n           //this.viewOrder(element.id)\n          })\n        });\n      }\n     else{\n    this.massge= true;\n    this.messageOrder =\"Preparing your order ...\"\n     }\n  })\n  }\n  viewOrder(id){\n    this.countItems = 0;\n    this.cart=[];\n   let orderNo  = this.listOfOrder.find(c=>c.id==id).orderNo;\n   let orderDetails = this.listOfOrderDetails.filter(c=>c.OrderId == orderNo);\n   orderDetails.forEach(el=>{\n   let data= {\n    CookingTime:this.listOfFood.find(c=>c.id==el.Food).CookingTime,\n    DeliveryTime: this.listOfFood.find(c=>c.id==el.Food).DeliveryTime,\n    Description:this.listOfFood.find(c=>c.id==el.Food).Description,\n    Name: this.listOfFood.find(c=>c.id==el.Food).Name,\n    Price:this.listOfFood.find(c=>c.id==el.Food).Price,\n    amount: el.Qty,\n    categoryId: this.listOfFood.find(c=>c.id==el.Food).categoryId,\n    id: el.Food,\n    picture: this.listOfFood.find(c=>c.id==el.Food).picture,\n    restaurantId: this.listOfFood.find(c=>c.id==el.Food).restaurantId,\n    type: this.listOfFood.find(c=>c.id==el.Food).type,\n    orderDetailsId:el.id,\n    orderStatus:true\n   }\n   this.cart.push(data);\n   this.countItems = this.cart.length;\n   console.log(this.countItems)\n  });\n  this.orderService.addOrder(this.cart);\n   this.router.navigate([\"/menu/order-history\"]);\n  }\n  location(location){\n    this.sharedService.status.next(\"order\");\n  this.sharedService.RestaurantLocation.next(location);\n  this.router.navigate([\"/menu/location\"]);\n  }\n\n}\n\n\n","export default \"ion-toolbar ion-icon {\\n  font-size: 25px;\\n}\\n\\nion-content {\\n  position: absolute;\\n  --background:#f8f9fa;\\n  --padding-bottom: 50px;\\n}\\n\\nion-content .orders {\\n  margin-top: 58px;\\n}\\n\\n.light-bg {\\n  background: #ffffff;\\n  z-index: 10;\\n}\\n\\n.meal-row {\\n  padding-bottom: 0px;\\n}\\n\\n.border-bottom {\\n  border-bottom: 1px solid var(--ion-color-step-150, rgba(0, 0, 0, 0.07));\\n}\\n\\n#map {\\n  width: 60%;\\n  height: 280px;\\n}\\n\\n.message {\\n  padding-top: 83px;\\n  padding-left: 12px;\\n  color: #337ab7;\\n  font-size: 27px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXG9yZGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGVBQUE7QUFESjs7QUFJQTtFQUNFLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtBQURGOztBQUVJO0VBQ0UsZ0JBQUE7QUFBTjs7QUFHQTtFQUNJLG1CQUFBO0VBQ0EsV0FBQTtBQUFKOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFDQTtFQUNFLHVFQUFBO0FBRUY7O0FBQUE7RUFDRSxVQUFBO0VBQ0EsYUFBQTtBQUdGOztBQURBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FBSUYiLCJmaWxlIjoib3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmlvbi10b29sYmFyIHtcclxuICBpb24taWNvbiB7XHJcbiAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgfVxyXG59XHJcbmlvbi1jb250ZW50IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgLS1iYWNrZ3JvdW5kOiNmOGY5ZmE7XHJcbiAgLS1wYWRkaW5nLWJvdHRvbTogNTBweDtcclxuICAgIC5vcmRlcnN7XHJcbiAgICAgIG1hcmdpbi10b3A6IDU4cHg7XHJcbiAgICB9XHJcbiAgfVxyXG4ubGlnaHQtYmcge1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICAgIHotaW5kZXg6IDEwO1xyXG59XHJcbi5tZWFsLXJvdyB7XHJcbiAgcGFkZGluZy1ib3R0b206IDBweDtcclxufVxyXG4uYm9yZGVyLWJvdHRvbSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1zdGVwLTE1MCwgcmdiYSgwLCAwLCAwLCAwLjA3KSk7XHJcbn1cclxuI21hcCB7XHJcbiAgd2lkdGg6IDYwJTtcclxuICBoZWlnaHQ6IDI4MHB4O1xyXG59XHJcbi5tZXNzYWdle1xyXG4gIHBhZGRpbmctdG9wOiA4M3B4O1xyXG4gIHBhZGRpbmctbGVmdDogMTJweDtcclxuICBjb2xvcjogIzMzN2FiNztcclxuICBmb250LXNpemU6IDI3cHg7XHJcbn0iXX0= */\";"],"sourceRoot":"webpack:///"}