{"version":3,"sources":["webpack:///src/app/Service/location.service.ts","webpack:///node_modules/location-picker/dist/location-picker.es5.js","webpack:///src/app/location/location.module.ts","webpack:///src/app/location/location.page.html","webpack:///src/app/location/location.page.scss","webpack:///src/app/Service/shared.service.ts","webpack:///src/app/location/location-routing.module.ts","webpack:///src/app/location/location.page.ts"],"names":["LocationService","db","locationCollectionList","collection","locationObj","add","locationList","snapshotChanges","pipe","actions","map","a","data","payload","doc","id","valueChanges","update","handleError","error","status","json","providedIn","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","LocationPicker","element","options","mapOptions","pO","setCurrentPosition","Object","assign","mO","center","google","maps","LatLng","lat","lng","zoom","HTMLElement","getElementById","Map","node","classList","children","prototype","getMarkerPosition","latLng","getCenter","setLocation","setCenter","_this","navigator","geolocation","getCurrentPosition","position","pos","coords","latitude","longitude","console","log","LocationPageModule","imports","declarations","SharedService","restaurant","location","orderId","RestaurantLocation","resId","routes","path","component","LocationPageRoutingModule","forChild","exports","LocationPage","fb","locationService","alertController","sharedService","router","platform","currentMapTrack","isTracking","trackedRoute","previousTracks","regform","group","Latitude","required","Longitude","Description","is","usePicker","getLocation","value","lp","lon","next","navigate","disableDefaultUI","mapElement","nativeElement","getAllLocation","subscribe","res","listOfLocation","valid","locationId","create","updateLocation","presentAlert","reset","ErrorAlert","slidingItem","editMode","get","setValue","close","presentAlertConfirm","header","message","buttons","text","role","cssClass","handler","blah","removeLocation","alert","present","read","selector","template"],"mappings":"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","file":"location-location-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { Location } from 'src/Table/table';\nimport { AppError } from '../common/app-error';\nimport { BadInput } from '../common/bad-input';\nimport { NotFoundError } from '../common/not-found-error';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationService {\n  private locationCollectionList: AngularFirestoreCollection<any>;\n  private locationList: Observable<any[]>;\n  constructor(private db: AngularFirestore) {\n    this.locationCollectionList = db.collection<Location>('Location');\n  }\n  create(locationObj) { \n    return this.locationCollectionList.add(locationObj)\n  }\n  getAllLocation() {\n    this.locationList = this.locationCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.locationList;\n  }\n  getLocation(id) {\n    return this.locationCollectionList.doc<any>(id).valueChanges();\n  }\n  updateLocation(locationObj: Location, id: string) {\n    return this.locationCollectionList.doc(id).update(locationObj)\n    .catch(this.handleError);\n  }\n  removeLocation(id) {\n    return this.locationCollectionList.doc(id).delete()\n    .catch(this.handleError);\n  }\n  private handleError(error: Response) {\n    if (error.status === 400)\n      return Observable.throw(new BadInput(error.json()));\n    if (error.status === 404)\n      return Observable.throw(new NotFoundError());\n     return Observable.throw(new AppError(error));\n  }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".location-picker .centerMarker{position:absolute;background:url(\\\"data:image/png;base64,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\\\") no-repeat;background-size:100%;top:50%;left:50%;z-index:1;margin-left:-14px;margin-top:-43px;height:44px;width:28px;cursor:pointer}\";\nstyleInject(css);\n\nvar LocationPicker = /** @class */ (function () {\r\n    function LocationPicker(element, options, mapOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        if (mapOptions === void 0) { mapOptions = {}; }\r\n        var pO = {\r\n            setCurrentPosition: true\r\n        };\r\n        Object.assign(pO, options);\r\n        var mO = {\r\n            center: new google.maps.LatLng(pO.lat ? pO.lat : 34.4346, pO.lng ? pO.lng : 35.8362),\r\n            zoom: 15\r\n        };\r\n        Object.assign(mO, mapOptions);\r\n        // Allow both, a string with the element's id or a direct reference to the element\r\n        if (element instanceof HTMLElement) {\r\n            this.element = element;\r\n        }\r\n        else {\r\n            this.element = document.getElementById(element);\r\n        }\r\n        this.map = new google.maps.Map(this.element, mO);\r\n        // Append CSS centered marker element\r\n        var node = document.createElement('div');\r\n        node.classList.add('centerMarker');\r\n        if (this.element) {\r\n            this.element.classList.add('location-picker');\r\n            this.element.children[0].appendChild(node);\r\n        }\r\n        // Set center to current position if attribute `setCurrentPosition` is true and no initial position is set\r\n        if (pO.setCurrentPosition && !pO.lat && !pO.lng) {\r\n            this.setCurrentPosition();\r\n        }\r\n    }\r\n    LocationPicker.prototype.getMarkerPosition = function () {\r\n        var latLng = this.map.getCenter();\r\n        return { lat: latLng.lat(), lng: latLng.lng() };\r\n    };\r\n    LocationPicker.prototype.setLocation = function (lat, lng) {\r\n        this.map.setCenter(new google.maps.LatLng(lat, lng));\r\n    };\r\n    LocationPicker.prototype.setCurrentPosition = function () {\r\n        var _this = this;\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(function (position) {\r\n                var pos = {\r\n                    lat: position.coords.latitude,\r\n                    lng: position.coords.longitude\r\n                };\r\n                _this.map.setCenter(pos);\r\n            }, function () {\r\n                console.log('Could not determine your location...');\r\n            });\r\n        }\r\n        else {\r\n            console.log('Your browser does not support Geolocation.');\r\n        }\r\n    };\r\n    return LocationPicker;\r\n}());\n\nexport default LocationPicker;\n//# sourceMappingURL=location-picker.es5.js.map\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationPageRoutingModule } from './location-routing.module';\n\nimport { LocationPage } from './location.page';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LocationPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LocationPage]\n})\nexport class LocationPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button  fill=\\\"solid\\\"  shape=\\\"round\\\" color=\\\"light\\\" (click)=\\\"backToHome()\\\" >\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\" color=\\\"primary\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Location</ion-title>\\n    <ion-buttons slot=\\\"end\\\"> </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div id=\\\"map\\\"></div>\\n<div *ngIf=\\\"location\\\">\\n  <ion-item>\\n    <button (click)=\\\"setLocationPick()\\\">Submit Location</button>\\n  </ion-item>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Lattitude</b>\\n      </ion-col>\\n      <ion-col> {{latitude}} </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Longitude</b>\\n      </ion-col>\\n      <ion-col> {{longitude}} </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</div>\\n</ion-content>\\n\";","export default \"#map {\\n  width: 100%;\\n  height: 580px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGxvY2F0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FBQUoiLCJmaWxlIjoibG9jYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiAgI21hcCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNTgwcHg7XHJcbn0iXX0= */\";","import { Injectable } from '@angular/core';\nimport { BehaviorSubject,Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n  restaurant = new BehaviorSubject<any>({});\n  status= new BehaviorSubject<any>({});\n  location = new BehaviorSubject<any>({});\n  orderId = new BehaviorSubject<any> ({});\n  RestaurantLocation = new BehaviorSubject<any>({});\n  resId = new BehaviorSubject<any>({});\n  getLocation(){\n    return this.location;\n  }\n  getStatus(){\n    return this.status;\n  }\n  getRestaurantLocation(){\n    return this.RestaurantLocation;\n  }\n  getRestaurantId(){\n    return this.resId;\n  }\n  constructor() { }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LocationPage } from './location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LocationPageRoutingModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AlertController, IonItemSliding, Platform } from '@ionic/angular';\nimport { Location } from 'src/Table/table';\nimport { LocationService } from '../Service/location.service';\nimport LocationPicker from \"location-picker\";\nimport { SharedService } from '../Service/shared.service';\nimport { Router } from '@angular/router';\ndeclare var google:any;\n@Component({\n  selector: 'app-location',\n  templateUrl: './location.page.html',\n  styleUrls: ['./location.page.scss'],\n})\nexport class LocationPage implements OnInit {\n  @ViewChild('map',{read:ElementRef,static:false}) mapElement: ElementRef;\n  map: any;\n  currentMapTrack = null;\n  isTracking = false;\n  trackedRoute = [];\n  previousTracks = [];\n  address: string;\n  latitude: number;\n  longitude: number;\n  regform = this.fb.group({})\n  locationId: string;\n  editMode: boolean\n  ListOfCustomer: Location[];\n  listOfLocation: any;\n  usePicker: boolean;\n  currentLat: any;\n  currentLong: any;\n  marker: any;\n  lp: LocationPicker;\n  status: any;\n  RestaurantLocation: any;\n  location:boolean = false;\n  constructor(private fb: FormBuilder,\n    private locationService: LocationService,\n    private alertController: AlertController,\n    private sharedService: SharedService,\n    private router: Router,\n    private platform: Platform) {\n\n  }\n  ngOnInit() {\n  this.regform = this.fb.group({\n      Latitude: [\"\", Validators.required],\n      Longitude: [\"\", Validators.required],\n      Description: [\"\"],\n    });\n    if ((this.platform.is('mobile') && !this.platform.is('hybrid')) ||\n      this.platform.is('desktop')\n    ) {\n      this.usePicker = true;\n    }\n    this.getLocation();\n    this.status = this.sharedService.status.value;\n    if(this.status == \"driver-home\" || this.status == \"restaurant-home\" || this.status ==\"order\" || this.status ==\"restaurant-history\"){\n      this.location=false;\n    }\n    else{\n      this.location=true;\n    }\n  // console.log(this.status);\n    this.RestaurantLocation = this.sharedService.RestaurantLocation.value;\n    console.log(this.RestaurantLocation);\n  }\n  setLocationPick() {\n    this.latitude = this.lp.getMarkerPosition().lat;\n    this.longitude = this.lp.getMarkerPosition().lng;\n    let data = {\n      lat: this.latitude,\n      lon: this.longitude\n    }\n    console.log(data)\n    this.sharedService.location.next(data)\n    this.router.navigate([\"/menu/\" + this.status]);\n  }\n  showMap(){\n    const location = new google.maps.LatLng(-17.824858,31.853828);\n    const options={\n      center:location,\n      zoom:15,\n      disableDefaultUI:true\n    }\n    this.map = new google.maps.Map(this.mapElement.nativeElement, options);\n  }\n  ionViewDidEnter() {\n    this.lp = new LocationPicker('map', {\n      setCurrentPosition: true, // You can omit this, defaults to true\n    }, {\n      zoom: 15 // You can set any google map options here, zoom defaults to 15\n    });\n    let lat = this.RestaurantLocation.lat;\n    let lng = this.RestaurantLocation.lon;\n    this.setLocation(lat, lng);\n  }\n  setLocation(lat: number, lng: number) {\n   // this.map.setCenter(new google.maps.LatLng(lat, lng))\n  }\n  getMarkerPosition() {\n    const latLng = this.map.getCenter()\n    return { lat: latLng.lat(), lng: latLng.lng() }\n  }\n  getLocation() {\n    this.locationService.getAllLocation().subscribe(res => {\n      this.listOfLocation = res;\n    })\n  }\n  saveLocation() {\n    if (this.regform.valid) {\n      if (!this.locationId) {\n        this.locationService.create(this.regform.value);\n      }\n      else {\n        this.locationService.updateLocation(this.regform.value, this.locationId);\n      }\n      this.presentAlert();\n      this.regform.reset();\n    }\n    else {\n      this.ErrorAlert()\n    }\n  }\n  Edit(location: Location, slidingItem: IonItemSliding) {\n    this.editMode = true;\n    this.locationId = location.id;\n    this.regform.get('Description').setValue(location.Description);\n    this.regform.get('Latitude').setValue(location.Latitude);\n    this.regform.get('Longitude').setValue(location.Longitude);\n    slidingItem.close();\n  }\n  delete(location: Location, slidingItem: IonItemSliding) {\n    this.presentAlertConfirm(location);\n    slidingItem.close();\n  }\n  async presentAlertConfirm(location: Location) {\n    const alert = await this.alertController.create({\n      header: 'Confirm!',\n      message: '<strong>Are you sure you want delete?</strong>',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'OK',\n          handler: () => {\n            this.locationService.removeLocation(location.id);\n            this.regform.reset();\n            this.locationId = null;\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n  async ErrorAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Error',\n      // subHeader: 'Subtitle',\n      message: 'Please Enter All field.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Location',\n      // subHeader: 'Subtitle',\n      message: 'Location Saved successfully.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  backToHome() {\n    this.router.navigate([\"/menu/\" + this.status]);\n  }\n}\n"]}