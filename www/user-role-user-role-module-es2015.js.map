{"version":3,"sources":["./src/app/user-role/user-role.page.scss","./src/app/user-role/user-role.page.html","./src/app/user-role/user-role-routing.module.ts","./src/app/user-role/user-role.page.ts","./src/app/user-role/user-role.module.ts"],"names":[],"mappings":"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","file":"user-role-user-role-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLXJvbGUucGFnZS5zY3NzIn0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>User Role</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <form [formGroup]=\\\"regform\\\">\\n    <ion-list>\\n      <ion-item>\\n        <ion-label>User Role </ion-label>\\n        <ion-select name=\\\"userId\\\" formControlName=\\\"userId\\\" interface=\\\"popover\\\" (ionChange)=\\\"selectedEv($event)\\\">\\n          <ion-select-option *ngFor=\\\"let code of role\\\" value=\\\"{{code?.name}}\\\">\\n            {{code?.name}}\\n          </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <div class=\\\"widget-container\\\">\\n        <dx-list #list [dataSource]=\\\"listOfFunctinality\\\" [height]=\\\"400\\\" displayExpr=\\\"compName\\\"\\n          [selectionMode]=\\\"selectionModeValue\\\" [selectAllMode]=\\\"selectAllModeVlaue\\\" \\n          [showSelectionControls]=\\\"true\\\" [selectedItemKeys]=\\\"arr_names\\\"\\n          (onSelectionChanged)=\\\"onSelectionChanged($event)\\\"\\n          (onSelectAllValueChanged)=\\\"onSelectAllValueChanged($event)\\\">\\n        </dx-list>\\n      </div>\\n      <ion-button class=\\\"btn btn-secondary\\\" expand=\\\"block\\\" (click)=\\\"save()\\\">\\n        Save\\n      </ion-button>\\n    </ion-list>\\n  </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserRolePage } from './user-role.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserRolePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserRolePageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AlertController, Platform } from '@ionic/angular';\nimport DataSource from 'devextreme/data/data_source';\nimport {  Account, functionality } from 'src/Table/table';\nimport { FunctionalityService } from '../Service/Functionality.service';\nimport { UserRoleService } from '../Service/userRole.service';\nimport ArrayStore from \"devextreme/data/array_store\";\nimport { AccountService } from '../Service/account.service';\n@Component({\n  selector: 'app-user-role',\n  templateUrl: './user-role.page.html',\n  styleUrls: ['./user-role.page.scss'],\n})\nexport class UserRolePage implements OnInit {\n  regform = this.fb.group({});\n  selectedUser: string;\n  listOfFunctinality: DataSource;\n  selecteFu: string;\n  isChecked: boolean = true;\n  funwithuser: any[] = [];\n  selectedCategory: any;\n  isIndeterminate: boolean;\n  masterCheck: boolean;\n  checkedList: any[];\n  masterSelected: boolean;\n  CheckedProject: any[] = [];\n  NewWithOldArray: any[] = [];\n  selectAllModeVlaue: string = \"page\";\n  selectionModeValue: string = \"all\";\n  arr_names: string[] = new Array();\n  listOfUserRole: { id: string; funId: string; userId: string; remark: string; }[];\n  deleteRoleId: any[] = [];\n  usePicker = false;\n  listOfFun: functionality[];\n  public role =[\n    { id: 1, name: 'admin'},\n    { id: 2, name: 'customer'},\n    { id: 3, name: 'driver'},\n    { id: 4, name: 'restaurant'},\n  ]\n  constructor(private fb: FormBuilder, private userRoleService: UserRoleService,\n    private accountService: AccountService, private functionalityService: FunctionalityService,\n    private platform: Platform,private alertController:AlertController) { }\n  ngOnInit() {\n    this.regform = this.fb.group({\n      funId: [''],\n      userId: ['', Validators.required],\n      remark: [''],\n    });\n    if ((this.platform.is('mobile') && !this.platform.is('hybrid')) ||\n      this.platform.is('desktop')) {\n      this.usePicker = true;\n    }\n    this.getFunctionality();\n  }\n  selectedEv(ev) {\n    let id = ev.target.value;\n    //console.log(ev.target.value);\n    this.userRoleService.getUerRoleId(id).subscribe(res => {\n      this.listOfUserRole = res;\n      this.CheckedProject = [];\n      this.arr_names = [];\n      this.deleteRoleId = [];\n      res.forEach(element => {\n        this.arr_names.push(element.funId);\n        this.deleteRoleId.push(element);\n        this.NewWithOldArray.push(element.funId);\n      //   let listitems = {\n      //     SN: element.funId,\n      //     compName:this.listOfFun.find(c=>c.SN==+element.funId).compName,\n      //     description: this.listOfFun.find(c=>c.SN==+element.funId).description,\n      //     id: this.listOfFun.find(c=>c.SN==+element.funId).id,\n      //     remark:this.listOfFun.find(c=>c.SN==+element.funId).remark\n      //   }\n      //  this.CheckedProject.push(listitems);\n      });\n      //console.log(res)\n    })\n  }\n  save() {\n    if (this.regform.valid) {\n       if (this.CheckedProject.length > 0) {\n        this.deleteRoleId.forEach(element => {\n          this.userRoleService.deleteUserRole(element.id);\n        });\n       let user = this.regform.get(\"userId\").value;\n       this.CheckedProject.forEach(el => {\n              let fun = {\n                funId: el.SN,\n                userId: user,\n                remark: ''\n              }\n              this.userRoleService.create(fun);\n            });\n          }\n    this.presentAlert();\n        // })\n        }\n    else {\n      // notify('Please select Project and User');\n    }\n  }\n  async presentAlert() {\n    const alert = await this.alertController.create({\n        header: 'Confirm! ',\n        message: 'Successfully Inserted!!',\n        buttons: ['OK']\n    });\n    await alert.present();\n}\n \n  getFunctionality() {\n    this.functionalityService.getAllFunctionality().subscribe(res => {\n      this.listOfFun=res;\n      this.listOfFunctinality = new DataSource({\n        store: new ArrayStore({\n          key: \"SN\",\n          data: res\n        })\n      });\n    })\n  \n  }\n\n  onSelectionChanged(e) {\n    let addedItems = e.addedItems;\n    addedItems.forEach(element => {\n      let listitems = {\n        SN: element.SN,\n        compName: element.compName,\n        description: element.description,\n        id: element.id,\n        remark: element.remark\n      }\n     this.CheckedProject.push(listitems);\n    });\n    console.log(this.CheckedProject)\n   // this.CheckedProject.push(addedItems);\n    // let removedItems = e.removedItems;\n    // let found = this.NewWithOldArray.filter(c => c.SN == addedItems[0].SN)\n    // if (found)\n    //   this.NewWithOldArray.push(addedItems[0].SN);\n    // Handler of the \"selectionChanged\" event\n  }\n  onSelectAllValueChanged(e) {\n    let newCheckBoxValue = e.value;\n    // Handler of the \"selectAllValueChanged\" event\n  }\n \n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserRolePageRoutingModule } from './user-role-routing.module';\n\nimport { UserRolePage } from './user-role.page';\nimport { DxListModule, DxLookupModule, DxTemplateModule } from 'devextreme-angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserRolePageRoutingModule,\n    ReactiveFormsModule,\n    DxLookupModule, DxTemplateModule,DxListModule\n  ],\n  declarations: [UserRolePage]\n})\nexport class UserRolePageModule {}\n"],"sourceRoot":"webpack:///"}