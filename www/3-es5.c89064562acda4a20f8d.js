!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function r(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[3,17,18],{"+cje":function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r("HDdC"),a=r("XEKg"),s=r("5Jak"),u=r("/GcI"),c=r("cxbk"),d=r("fXoL"),f=r("tk/3"),h=function(){var t=function(){function t(e){i(this,t),this.http=e,this.APIURL=c.a.apiURL}return o(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/restaurant",t)}},{key:"getAllRestaurant",value:function(){return this.http.get(this.APIURL+"/restaurant")}},{key:"updateRestaurant",value:function(t){return this.http.put(this.APIURL+"/restaurant/",t)}},{key:"removeRestaurant",value:function(t){return this.http.delete(this.APIURL+"/restaurant/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new a.a(t.json()):404===t.status?new s.a:new u.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.cc(f.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8D9V":function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r("HDdC"),a=r("cxbk"),s=r("/GcI"),u=r("XEKg"),c=r("5Jak"),d=r("fXoL"),f=r("tk/3"),h=function(){var t=function(){function t(e){i(this,t),this.http=e,this.APIURL=a.a.apiURL}return o(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/orderdetail",t)}},{key:"getAllOrderDetail",value:function(){return this.http.get(this.APIURL+"/orderdetail")}},{key:"updateOrderDetail",value:function(t){return this.http.put(this.APIURL+"/orderdetail/",t)}},{key:"removeOrderDetail",value:function(t){return this.http.delete(this.APIURL+"/orderdetail/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new u.a(t.json()):404===t.status?new c.a:new s.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.cc(f.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"Dkj+":function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r("HDdC"),a=r("cxbk"),s=r("/GcI"),u=r("XEKg"),c=r("5Jak"),d=r("fXoL"),f=r("tk/3"),h=function(){var t=function(){function t(e){i(this,t),this.http=e,this.APIURL=a.a.apiURL}return o(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/food",t)}},{key:"getAllFood",value:function(){return this.http.get(this.APIURL+"/food")}},{key:"updateFood",value:function(t){return this.http.put(this.APIURL+"/food/",t)}},{key:"removeFood",value:function(t){return this.http.delete(this.APIURL+"/food/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new u.a(t.json()):404===t.status?new c.a:new s.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.cc(f.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},VNSQ:function(r,n,a){"use strict";a.d(n,"a",function(){return v});var s=a("2Vo4"),u=a("HDdC"),c=a("/GcI"),d=a("XEKg"),f=a("5Jak"),h=a("cxbk"),l=a("fXoL"),m=a("tk/3"),p=a("ldse"),v=function(){var r=function(){function r(t,e){i(this,r),this.http=t,this.sharedService=e,this.cart=[],this.cartItemCount=new s.a(0),this.RestaurantId=new s.a({}),this.orderStatus=new s.a({}),this.order=[],this.orderItemCount=new s.a(0),this.APIURL=h.a.apiURL}return o(r,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/order",t)}},{key:"getAllOrder",value:function(){return this.http.get(this.APIURL+"/order")}},{key:"updateOrder",value:function(t){return this.http.put(this.APIURL+"/order/",t)}},{key:"updateOrderStatus",value:function(t){return this.http.put(this.APIURL+"/orderstatus/",t)}},{key:"updateRestaurantStatus",value:function(t){return this.http.put(this.APIURL+"/restaurantstatus/",t)}},{key:"updateStatus",value:function(t){return this.http.put(this.APIURL+"/status/",t)}},{key:"removeOrder",value:function(t){return this.http.delete(this.APIURL+"/order/"+t).toPromise()}},{key:"handleError",value:function(t){return u.a.throw(400===t.status?new d.a(t.json()):404===t.status?new f.a:new c.a(t))}},{key:"getCart",value:function(){return this.cart}},{key:"getOrders",value:function(){return this.order}},{key:"getCartItemCount",value:function(){return this.cartItemCount}},{key:"getOrderItemCount",value:function(){return this.orderItemCount}},{key:"getRestaurantId",value:function(){return this.RestaurantId}},{key:"getOrderStatus",value:function(){return this.orderStatus}},{key:"addOrder",value:function(t){var e=this;this.order=[],this.amount=0,this.order.forEach(function(t){var r=e.order.indexOf(function(e){return e.orderDetailsId===t.orderDetailsId});e.order.splice(r,1)}),this.orderItemCount.next(0),t.forEach(function(t){e.amount=e.amount+t.amount,e.order.push({CookingTime:t.CookingTime,DeliveryTime:t.DeliveryTime,Description:t.Description,Name:t.Name,Price:t.Price,amount:t.amount,categoryId:t.categoryId,id:t.Food,picture:t.picture,restaurantId:t.restaurantId,type:t.type,orderDetailsId:t.orderDetailsId})}),this.orderItemCount.next(this.orderItemCount.value+this.amount)}},{key:"addProduct",value:function(t){var r,n=!1,i=e(this.cart);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.id===t.id){a.amount+=1,n=!0;break}}}catch(o){i.e(o)}finally{i.f()}n||(t.amount=1,this.cart.push(t)),this.cartItemCount.next(this.cartItemCount.value+1)}},{key:"decreaseProduct",value:function(r){var n,i=e(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var a=t(n.value,2),o=a[0],s=a[1];s.id===r.id&&(s.amount-=1,0==s.amount&&this.cart.splice(o,1))}}catch(u){i.e(u)}finally{i.f()}this.cartItemCount.next(this.cartItemCount.value-1)}},{key:"removeProduct",value:function(r){var n,i=e(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var a=t(n.value,2),o=a[0],s=a[1];s.id===r.id&&(this.cartItemCount.next(this.cartItemCount.value-s.amount),this.cart.splice(o,1))}}catch(u){i.e(u)}finally{i.f()}}}]),r}();return r.\u0275fac=function(t){return new(t||r)(l.cc(m.a),l.cc(p.a))},r.\u0275prov=l.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},ldse:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r("2Vo4"),a=r("fXoL"),s=function(){var t=function(){function t(){i(this,t),this.restaurant=new n.a({}),this.status=new n.a({}),this.location=new n.a({}),this.orderId=new n.a({}),this.RestaurantLocation=new n.a({}),this.resId=new n.a({}),this.listOfCatagoryFilter=new n.a({})}return o(t,[{key:"getMenuFilter",value:function(){return this.listOfCatagoryFilter}},{key:"getLocation",value:function(){return this.location}},{key:"getStatus",value:function(){return this.status}},{key:"getRestaurantLocation",value:function(){return this.RestaurantLocation}},{key:"getRestaurantId",value:function(){return this.resId}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},qmIW:function(t,e,r){"use strict";r.r(e),r.d(e,"RestaurantHistoryPageModule",function(){return D});var n=r("ofXK"),a=r("3Pt+"),s=r("TEn/"),u=r("tyNb"),c=r("mrSG"),d=r("fXoL"),f=r("VNSQ"),h=r("6wYF"),l=r("8D9V"),m=r("Dkj+"),p=r("ldse"),v=r("+cje");function g(t,e){if(1&t&&(d.Vb(0,"div",14),d.Vb(1,"ion-grid",14),d.Vb(2,"ion-row",14),d.Vb(3,"ion-label",14),d.Ec(4),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t){var r=d.ic();d.Eb(4),d.Fc(r.message)}}function b(t,e){if(1&t){var r=d.Wb();d.Vb(0,"ion-row",15),d.Vb(1,"ion-col",16),d.Vb(2,"ion-label"),d.Vb(3,"p",1),d.Ec(4),d.jc(5,"currency"),d.Ub(),d.Ub(),d.Vb(6,"ion-label"),d.Vb(7,"p"),d.Ec(8),d.jc(9,"date"),d.Ub(),d.Ub(),d.Vb(10,"ion-button",17),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().viewOrder(t.id)}),d.Ec(11," view order "),d.Ub(),d.Vb(12,"ion-row",18),d.Vb(13,"ion-label",19),d.Ec(14,"Status"),d.Ub(),d.Vb(15,"ion-button",20),d.Ec(16," Ready to service "),d.Ub(),d.Ub(),d.Ub(),d.Vb(17,"ion-col",21),d.Vb(18,"ion-label"),d.Ec(19),d.Vb(20,"p"),d.Ec(21),d.Ub(),d.Vb(22,"span"),d.Vb(23,"ion-button",22),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().location(t.CLocation)}),d.Rb(24,"ion-icon",23),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){var n=e.$implicit;d.Eb(4),d.Gc("Total : ",d.lc(5,4,n.Total,"ETB"),""),d.Eb(4),d.Fc(d.lc(9,7,n.DateTime,"short")),d.Eb(11),d.Gc(" ",n.Customer," "),d.Eb(2),d.Fc(n.PhoneNumber)}}var y,w,k,O=[{path:"",component:(y=function(){function t(e,r,n,a,o,s,u,c,d){i(this,t),this.orderService=e,this.accountService=r,this.orderDetailsService=n,this.foodService=a,this.sharedService=o,this.router=s,this.loadingController=u,this.datepipe=c,this.restaurantService=d,this.cart=[],this.model={},this.date=new Date,this.increament=0,this.currentMonth=(new Date).getMonth()+1,this.currentYear=(new Date).getFullYear(),this.currentDate=(new Date).getDate()}return o(t,[{key:"ngOnInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({message:"Getting Products ...",spinner:"bubbles",animated:!0});case 2:return this.loader=t.sent,t.next=5,this.loader.present().then();case 5:this.model.startdate=new Date,this.searchdate(),this.getOrder(),this.getFood(),this.getOrderDetails(),this.getRestaurant();case 11:case"end":return t.stop()}},t,this)}))}},{key:"getRestaurant",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.restaurantService.getAllRestaurant().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.present().then();case 2:return e.next=4,t;case 4:this.listOfRestaurant=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOrderDetails",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.orderDetailsService.getAllOrderDetail().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfOrderDetails=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getFood",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.foodService.getAllFood().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfFood=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOrder",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.orderService.getAllOrder().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:if(this.UserId=localStorage.getItem("userId"),null==this.listOfRestaurant){e.next=11;break}return r=this.listOfRestaurant.find(function(t){return t.accountId==i.UserId}).id,e.next=7,t.filter(function(t){return t.restaurantId==r&&t.restaurantStatuses.find(function(t){return 1==t.isChecked&&"ready to service"==t.val})});case 7:(n=e.sent).length>0?(this.listOfOrder=[],n.forEach(function(t){i.accountService.getAllAccount().subscribe(function(e){return Object(c.a)(i,void 0,void 0,regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=t.id,r.t1=t.dateTime,r.next=4,e.find(function(e){return e.id==+t.customer}).fullName;case 4:return r.t2=r.sent,r.next=7,e.find(function(e){return e.id==+t.customer}).phonenumber;case 7:return r.t3=r.sent,r.next=10,e.find(function(e){return e.id==+t.customer}).locationId;case 10:r.t4=r.sent,r.t5=t.location,r.t6=t.location,r.t7=t.restaurantStatuses,r.t8=t.total,r.t9=t.driver,r.t10=t.vehicle,r.t11=t.orderLocation,n={id:r.t0,DateTime:r.t1,Customer:r.t2,PhoneNumber:r.t3,CLocation:r.t4,RLocation:r.t5,Location:r.t6,restaurantStatus:r.t7,Total:r.t8,Driver:r.t9,Vehicle:r.t10,orderLocation:r.t11},this.listOfOrder.push(n);case 20:case"end":return r.stop()}},r,this)}))})})):(this.massge=!0,this.message="no orders"),e.next=12;break;case 11:this.getOrder();case 12:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"viewOrder",value:function(t){var e=this;this.cart=[];var r=this.listOfOrder.find(function(e){return e.id==t}).orderNo;this.listOfOrderDetails.filter(function(t){return t.OrderId==r}).forEach(function(t){var r={CookingTime:e.listOfFood.find(function(e){return e.id==t.foodId}).cookingTime,DeliveryTime:e.listOfFood.find(function(e){return e.id==t.foodId}).deliveryTime,Description:e.listOfFood.find(function(e){return e.id==t.foodId}).description,Name:e.listOfFood.find(function(e){return e.id==t.foodId}).name,Price:e.listOfFood.find(function(e){return e.id==t.foodId}).price,amount:t.qty,categoryId:e.listOfFood.find(function(e){return e.id==t.foodId}).categoryId,id:t.foodId,picture:e.listOfFood.find(function(e){return e.id==t.foodId}).picture,restaurantId:e.listOfFood.find(function(e){return e.id==t.foodId}).restaurantId,type:e.listOfFood.find(function(e){return e.id==t.foodId}).type,orderDetailsId:t.id,orderStatus:!0};e.cart.push(r)}),this.orderService.addOrder(this.cart),this.sharedService.status.next("restaurant-history"),this.router.navigate(["/menu/order-history"])}},{key:"location",value:function(t){this.sharedService.status.next("restaurant-history"),this.sharedService.RestaurantLocation.next(t),this.router.navigate(["/menu/location"])}},{key:"doRefresh",value:function(t){setTimeout(function(){t.target.complete()},2e3)}},{key:"searchdate",value:function(){console.log(this.model.startdate);var t=this.datepipe.transform(this.model.startdate,"yyyy,M,d");function e(t){var e=t.getDate()-t.getDay()+(0===t.getDay()?-6:1);return new Date(t.setDate(e))}function r(t){var e=t.getDate()-(t.getDay()-1)+6;return new Date(t.setDate(e))}var n=new Date(t);function i(t,e){var r=new Date(Number(t));return r.setDate(t.getDate()+e),r}this.startdateofweek=this.datepipe.transform(e(n)),this.startMonth=new Date(this.startdateofweek).getMonth()+1,this.startYear=new Date(this.startdateofweek).getFullYear(),this.startDate=new Date(this.startdateofweek).getDate(),console.log(this.startdateofweek),this.Enddateofweek=this.datepipe.transform(r(n)),this.endMonth=new Date(this.Enddateofweek).getMonth()+1,this.endYear=new Date(this.Enddateofweek).getFullYear(),this.endDate=new Date(this.Enddateofweek).getDate(),console.log(this.Enddateofweek);var a=new Date(e(n));this.mon=this.datepipe.transform(e(n),"EEEE, MMMM d"),this.Tuesday=this.datepipe.transform(i(a,1),"EEEE, MMMM d"),this.Wednedday=this.datepipe.transform(i(a,2),"EEEE, MMMM d"),this.Thruds=this.datepipe.transform(i(a,3),"EEEE, MMMM d"),this.Friday=this.datepipe.transform(i(a,4),"EEEE, MMMM d"),this.Sat=this.datepipe.transform(i(a,5),"EEEE, MMMM d"),this.Sun=this.datepipe.transform(r(n),"EEEE, MMMM d")}},{key:"segmentChanged",value:function(t){"daily"==t.detail.value?this.scheduleOrder(this.currentDate,"daily"):"week"==t.detail.value?this.scheduleOrder(this.currentWeek,"week"):"month"==t.detail.value?this.scheduleOrder(this.currentMonth,"month"):"year"==t.detail.value&&this.scheduleOrder(this.currentYear,"year")}},{key:"scheduleOrder",value:function(t,e){var r=this;this.orderService.getAllOrder().subscribe(function(n){return Object(c.a)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var i,a,o=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.loader.dismiss().then();case 2:this.UserId=localStorage.getItem("userId"),i=this.listOfRestaurant.find(function(t){return t.accountId==o.UserId}).id,(a=n.filter(function(t){return t.restaurantId==i&&t.restaurantStatuses.find(function(t){return 1==t.isChecked&&"ready to service"==t.val})})).length>0&&(this.listOfOrder=[],a.forEach(function(r){o.accountService.getAllAccount().subscribe(function(n){var i={id:r.id,DateTime:r.dateTime,Customer:n.find(function(t){return t.id==+r.customer}).fullName,PhoneNumber:n.find(function(t){return t.id==+r.customer}).phonenumber,CLocation:n.find(function(t){return t.id==+r.customer}).locationId,RLocation:r.location,Location:r.location,restaurantStatus:r.restaurantStatuses,Total:r.total,Driver:r.driver,Vehicle:r.vehicle,orderLocation:r.orderLocation},a=new Date(r.dateTime).getDate();o.orderMonth=new Date(r.dateTime).getMonth()+1,o.orderYear=new Date(r.dateTime).getFullYear(),o.orderDate=new Date(r.dateTime).getDate();var s=new Date(r.dateTime).getMonth()+1,u=new Date(r.dateTime).getFullYear();"daily"==e?(o.increament=0,t==a&&(o.increament=o.increament+1,o.listOfOrder.push(i),o.listOfOrder.sort(function(t,e){return new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime()})),0==o.increament?(o.massge=!0,o.message="no orders in this date"):o.massge=!1):"week"==e?(o.increament=0,o.startDate<=o.orderDate&&o.startMonth==o.orderMonth&&o.startYear==o.orderYear&&o.endDate>=o.orderDate&&o.endMonth==o.orderMonth&&o.endYear==o.orderYear&&(o.increament=o.increament+1,o.listOfOrder.push(i),o.listOfOrder.sort(function(t,e){return new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime()})),0==o.increament?(o.massge=!0,o.message="no orders in this weeks"):o.massge=!1):"month"==e?(o.increament=0,t==s&&(o.increament=o.increament+1,o.listOfOrder.push(i),o.listOfOrder.sort(function(t,e){return new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime()})),0==o.increament?(o.massge=!0,o.message="no orders in this months"):o.massge=!1):"year"==e&&(o.increament=0,t==u&&(o.increament=o.increament+1,o.listOfOrder.push(i),o.listOfOrder.sort(function(t,e){return new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime()})),0==o.increament?(o.massge=!0,o.message="no orders years"):o.massge=!1)})}));case 5:case"end":return r.stop()}},r,this)}))},function(t){return Object(c.a)(r,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}}]),t}(),y.\u0275fac=function(t){return new(t||y)(d.Qb(f.a),d.Qb(h.a),d.Qb(l.a),d.Qb(m.a),d.Qb(p.a),d.Qb(u.g),d.Qb(s.S),d.Qb(n.f),d.Qb(v.a))},y.\u0275cmp=d.Kb({type:y,selectors:[["app-restaurant-history"]],decls:25,vars:4,consts:[[3,"translucent"],["color","primary"],["slot","start"],[2,"text-align","center"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"ionChange"],["value","daily"],["value","week"],["value","month"],["value","year"],["class","message",4,"ngIf"],[1,"orders"],["class","ion-padding meal-row",4,"ngFor","ngForOf"],[1,"message"],[1,"ion-padding","meal-row"],["size","8",1,"border-bottom"],["fill","clear",2,"margin-top","-14px",3,"click"],[1,"status"],[2,"padding-top","9px","padding-left","5px"],["fill","clear",2,"margin-top","-1px"],["size","4",1,"border-bottom"],[3,"click"],["name","location-outline"]],template:function(t,e){1&t&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Rb(3,"ion-menu-button"),d.Ub(),d.Vb(4,"ion-title",3),d.Ec(5,"My orders"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"ion-content",4),d.Vb(7,"ion-refresher",5),d.gc("ionRefresh",function(t){return e.doRefresh(t)}),d.Rb(8,"ion-refresher-content"),d.Ub(),d.Vb(9,"ion-segment",6),d.gc("ionChange",function(t){return e.segmentChanged(t)}),d.Vb(10,"ion-segment-button",7),d.Vb(11,"ion-label"),d.Ec(12,"Daily"),d.Ub(),d.Ub(),d.Vb(13,"ion-segment-button",8),d.Vb(14,"ion-label"),d.Ec(15,"Weekly"),d.Ub(),d.Ub(),d.Vb(16,"ion-segment-button",9),d.Vb(17,"ion-label"),d.Ec(18,"Monthly"),d.Ub(),d.Ub(),d.Vb(19,"ion-segment-button",10),d.Vb(20,"ion-label"),d.Ec(21,"Yearly"),d.Ub(),d.Ub(),d.Ub(),d.Cc(22,g,5,1,"div",11),d.Vb(23,"div",12),d.Cc(24,b,25,10,"ion-row",13),d.Ub(),d.Ub()),2&t&&(d.oc("translucent",!0),d.Eb(6),d.oc("fullscreen",!0),d.Eb(16),d.oc("ngIf",e.massge),d.Eb(2),d.oc("ngForOf",e.listOfOrder))},directives:[s.q,s.P,s.i,s.B,s.N,s.k,s.D,s.E,s.H,s.X,s.I,s.y,n.n,n.m,s.p,s.G,s.j,s.h,s.r],pipes:[n.d,n.f],styles:["ion-segment[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-left:165px}ion-row[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-top:19px;padding-left:107px}ion-grid[_ngcontent-%COMP%]{border-radius:9px;background-color:#f5f5f5;height:79px}ion-label[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-left:60px;padding-top:24px;text-align:center;font-size:28px;font-style:normal;font-family:cursive}ion-segment[_ngcontent-%COMP%]{position:sticky;top:calc(env(safe-area-inset-top) - 0px);z-index:2;background:#eee;box-shadow:0 9px 11px -15px transparent;display:flex;flex-direction:row;align-items:flex-end;border-bottom-right-radius:3px;border-bottom-left-radius:2px}"]}),y)}],I=((k=function t(){i(this,t)}).\u0275fac=function(t){return new(t||k)},k.\u0275mod=d.Ob({type:k}),k.\u0275inj=d.Nb({imports:[[u.j.forChild(O)],u.j]}),k),D=((w=function t(){i(this,t)}).\u0275fac=function(t){return new(t||w)},w.\u0275mod=d.Ob({type:w}),w.\u0275inj=d.Nb({imports:[[n.c,a.d,s.Q,I]]}),w)}}])}();