{"version":3,"sources":["./src/app/cart-modal/cart-modal.page.html","./src/app/cart-modal/cart-modal.page.scss","./src/app/cart-modal/cart-modal.page.ts","./src/app/cart-modal/cart-modal.module.ts","./src/app/cart-modal/cart-modal-routing.module.ts"],"names":[],"mappings":"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","file":"cart-modal-cart-modal-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"light\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button fill=\\\"solid\\\" shape=\\\"round\\\" color=\\\"light\\\" (click)=\\\"onclick()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\" color=\\\"primary\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"text-align: center;\\\">Order Details</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button  >\\n        <ion-badge *ngIf=\\\"cart.length > 0\\\">{{ cartItemCount | async }}</ion-badge>\\n        <ion-icon slot=\\\"icon-only\\\" class=\\\"cart-icon\\\" name=\\\"cart\\\"></ion-icon>\\n      </ion-button> \\n    </ion-buttons>\\n   </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n  <!-- <div class=\\\"ion-text-end\\\">\\n    <ion-button (click)=\\\"close()\\\" fill=\\\"clear\\\" color=\\\"dark\\\">\\n      <ion-icon name=\\\"close\\\" slot=\\\"start\\\"></ion-icon>\\n    </ion-button>\\n  </div> -->\\n  <div class=\\\"ion-padding\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let p of cart\\\" class=\\\"ion-text-wrap\\\">\\n        <ion-grid>\\n          <ion-row class=\\\"ion-align-items-center\\\">\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" (click)=\\\"decreaseCartItem(p)\\\">\\n                <ion-icon name=\\\"remove-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n            <ion-col size=\\\"1\\\" class=\\\"ion-align-self-center\\\">\\n              {{ p.amount }}\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" (click)=\\\"increaseCartItem(p)\\\">\\n                <ion-icon name=\\\"add-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" offset=\\\"5\\\">\\n              <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" (click)=\\\"removeCartItem(p)\\\">\\n                <ion-icon name=\\\"close-circle\\\" slot=\\\"icon-only\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"5\\\">\\n              <b>{{ p.Name }}</b>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <b>{{ p.Price | currency:'ETB'}}</b>\\n            </ion-col>\\n            <ion-col size=\\\"3\\\" class=\\\"ion-text-end\\\">\\n              {{ p.amount * p.Price | currency:'ETB' }}\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n      <ion-item>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"9\\\">\\n             Sub Total:\\n            </ion-col>\\n            <ion-col size=\\\"3\\\" class=\\\"ion-text-end\\\">\\n              {{ getTotal() | currency:'ETB' }}\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n      <ion-item>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"9\\\">\\n             Grand Total:\\n            </ion-col>\\n            <ion-col size=\\\"3\\\" class=\\\"ion-text-end\\\">\\n              {{ getGrandTotal() | currency:'ETB' }}\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n    </ion-list>\\n    <form [formGroup]=\\\"regform\\\">\\n    <ion-item>\\n      <ion-label>Transation Type</ion-label>\\n      <ion-select interface=\\\"popover\\\" formControlName=\\\"transactionType\\\">\\n        <ion-select-option value=\\\"Delivery\\\">Delivery</ion-select-option>\\n        <ion-select-option value=\\\"Pickup\\\">Pickup</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Delivery Date</ion-label>\\n      <ion-datetime formControlName=\\\"DeliveryDate\\\" display-format=\\\"MMM DD, YYYY HH:mm:ss\\\" value=\\\"1990-02-19T07:43Z\\\" [(ngModel)]=\\\"currentDate\\\"></ion-datetime>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Delivery fee</ion-label>\\n      <ion-input formControlName=\\\"DeliveryFee\\\" type=\\\"number\\\" (keyup)=\\\"getGrandTotal()\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Delivery Time</ion-label>\\n      <ion-datetime formControlName=\\\"DeliveryTime\\\" display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\" value=\\\"1990-02-19T07:43Z\\\"></ion-datetime>\\n    </ion-item>\\n    <ion-item>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"1\\\">\\n            <ion-label>\\n              <ion-icon style=\\\"height: 27px;\\n              width: 19px;\\\" name=\\\"location-outline\\\"></ion-icon>\\n            </ion-label>\\n           </ion-col>\\n          <ion-col size=\\\"8\\\">\\n           <ion-label>\\n             <p>Delivery to current Address</p>\\n             <p></p>\\n           </ion-label>\\n          </ion-col>\\n          <ion-col size=\\\"3\\\">\\n            <ion-button (click)=\\\"location()\\\">\\n              change\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-item>\\n    <ion-button expand=\\\"full\\\" (click)=\\\"order(cart)\\\" slot=\\\"fixed\\\">\\n      Order\\n    </ion-button>\\n   \\n  </form>\\n  </div>\\n</ion-content>\";","export default \"ion-badge {\\n  color: #fff;\\n  position: absolute;\\n  top: -9px;\\n  right: 2px;\\n  border-radius: 100%;\\n}\\n\\n.cart-icon {\\n  font-size: 50px;\\n}\\n\\n.cart-length {\\n  color: var(--ion-color-primary);\\n  position: absolute;\\n  top: 18px;\\n  left: 25px;\\n  font-weight: 600;\\n  font-size: 1em;\\n  min-width: 25px;\\n  z-index: 10;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGNhcnQtbW9kYWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVztFQUNYLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtFQUNWLG1CQUFtQjtBQUN2Qjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSwrQkFBK0I7RUFDL0Isa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxVQUFVO0VBQ1YsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxlQUFlO0VBQ2YsV0FBVztBQUNiIiwiZmlsZSI6ImNhcnQtbW9kYWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWJhZGdlIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAtOXB4O1xyXG4gICAgcmlnaHQ6IDJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbn1cclxuIFxyXG4uY2FydC1pY29uIHtcclxuICBmb250LXNpemU6IDUwcHg7XHJcbn1cclxuIFxyXG4uY2FydC1sZW5ndGgge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMThweDtcclxuICBsZWZ0OiAyNXB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiAxZW07XHJcbiAgbWluLXdpZHRoOiAyNXB4O1xyXG4gIHotaW5kZXg6IDEwO1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Food, Restaurant } from 'src/Table/table';\r\nimport { FoodService } from '../Service/food.service';\r\nimport { OrderDetailService } from '../Service/order-detail.service';\r\nimport { OrderService } from '../Service/order.service';\r\nimport { RestaurantService } from '../Service/restaurant.service';\r\nimport { SharedService } from '../Service/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-cart-modal',\r\n  templateUrl: './cart-modal.page.html',\r\n  styleUrls: ['./cart-modal.page.scss'],\r\n})\r\nexport class CartModalPage implements OnInit {\r\n  cart: any[] = [];\r\n  cartItemCount: BehaviorSubject<number>;\r\n  id: any;\r\n  regform = this.fb.group({});\r\n  currentDate = new Date().toUTCString();\r\n  minDate = new Date().toISOString();\r\n  maxDate = new Date().toISOString();\r\n  listOfRestaurant: Restaurant[];\r\n  orderId: any;\r\n  x: number;\r\n  listOfFood: Food[];\r\n  orderNo: number;\r\n  restaurantId: any;\r\n  Total: number;\r\n  status: {  val: string; isChecked: boolean; }[];\r\n  statusRestaurant: { val: string; isChecked: boolean; }[];\r\n  statusDriver: { val: string; isChecked: boolean; }[];\r\n  constructor(private modalCtrl: ModalController,\r\n              private alertCtrl: AlertController,\r\n              private orderService: OrderService,\r\n              private fb: FormBuilder,\r\n              private router: Router,\r\n              private restaurantService: RestaurantService,\r\n              private orderDetailService: OrderDetailService,\r\n              private foodService: FoodService,\r\n              private sharedService: SharedService) {\r\n      this.statusDriver = [\r\n        {  val: 'picked', isChecked: false },\r\n        { val: 'start moving', isChecked: false },\r\n        {  val: 'delivered', isChecked: false }\r\n      ];\r\n      this.statusRestaurant = [\r\n         {  val: 'order received', isChecked: true },\r\n         {  val: 'start cooking', isChecked: false },\r\n         {  val: 'cooked', isChecked: false },\r\n         { val: 'ready to service', isChecked: false }\r\n       ];\r\n      this.status = [\r\n         { val: 'Accept', isChecked: false},\r\n         { val: 'Reject', isChecked: false}\r\n       ];\r\n    }\r\n\r\n  ngOnInit() {\r\n    this.regform = this.fb.group({\r\n      transactionType: [''],\r\n      DeliveryDate: [''],\r\n      DeliveryTime: [''],\r\n      DeliveryAddress: [''],\r\n      DeliveryFee: ['']\r\n    });\r\n    // setting min date\r\n    let date: Date = new Date();\r\n    date.setDate(date.getDate() - 5);\r\n    this.minDate = date.toISOString();\r\n    // setting max date\r\n    date = new Date();\r\n    date.setDate(date.getDate() + 5);\r\n    this.maxDate = date.toISOString();\r\n    /// to get data form service\r\n    this.cart = this.orderService.getCart();\r\n    this.cartItemCount = this.orderService.getCartItemCount();\r\n    this.id = this.orderService.getRestaurantId().value;\r\n    // console.log(this.id)\r\n    this.getRestaurant();\r\n    this.getFood();\r\n    this.readNOId();\r\n  }\r\n  getRestaurant() {\r\n    this.restaurantService.getAllRestaurant().subscribe(res => {\r\n      this.listOfRestaurant = res;\r\n    });\r\n  }\r\n  getFood() {\r\n    this.foodService.getAllFood().subscribe(res => {\r\n      this.listOfFood = res;\r\n    });\r\n  }\r\n  readNOId() {\r\n    let No = 0;\r\n    this.orderService.getAllOrder().subscribe((result) => {\r\n      if (result.length === 0) { No = 1; }\r\n      else { No = result.length + 1; }\r\n      this.orderNo = + No;\r\n    });\r\n  }\r\n  decreaseCartItem(product) {\r\n    this.orderService.decreaseProduct(product);\r\n  }\r\n\r\n  increaseCartItem(product) {\r\n    this.orderService.addProduct(product);\r\n  }\r\n\r\n  removeCartItem(product) {\r\n    // this.orderService.removeProduct(product);\r\n    this.presentAlertConfirm(product);\r\n  }\r\n\r\n  getTotal() {\r\n    return this.cart.reduce((i, j) => i + j.amount * j.price, 0);\r\n  }\r\n\r\n  getGrandTotal(){\r\n    return this.getTotal() + this.regform.get('DeliveryFee').value;\r\n  }\r\n  close() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n  location(){\r\n    this.sharedService.status.next('cart-modal');\r\n    this.router.navigate(['/menu/location']);\r\n  }\r\n  order(cart) {\r\n    this.Total = 0;\r\n    cart.forEach(element => {\r\n      this.restaurantId = element.restaurantId;\r\n    });\r\n    const res = this.listOfRestaurant.find(c => c.id === +this.restaurantId);\r\n    const order = {\r\n      restaurantId: this.restaurantId,\r\n      dateTime: this.regform.get('DeliveryDate').value,\r\n      customer: localStorage.getItem('userId'),\r\n      location: res.location, // to insert loging user (customer) of location\r\n      orderStatuses: this.statusDriver,\r\n      total: this.getGrandTotal(),\r\n      driver: 'null',\r\n      vehicle: 'null',\r\n      orderLocation: 'null', // or droupLocation\r\n      restaurantStatuses: this.statusRestaurant,\r\n      customerStatus: 'false',\r\n      statuses: this.status\r\n    };\r\n    // tslint:disable-next-line:no-shadowed-variable\r\n    this.orderService.create(order).subscribe( res => {\r\n       alert(res);\r\n      // tslint:disable-next-line:align\r\n      cart.forEach(element => {\r\n        this.restaurantId = element.restaurantId;\r\n        this.Total = this.Total + (element.Price * element.amount);\r\n        const orderDetails = {\r\n          orderId: this.orderNo,\r\n          foodId: element.id,\r\n          qty: element.amount,\r\n          price: element.price\r\n        };\r\n        // tslint:disable-next-line:no-shadowed-variable\r\n        this.orderDetailService.create(orderDetails).subscribe( res => {\r\n        alert(res.toString());\r\n        });\r\n      });\r\n    });\r\n    this.presentAlert('Add order succesfuly');\r\n    this.router.navigate(['/menu/order']);\r\n  }\r\n  async presentAlert(message) {\r\n    const alert = await this.alertCtrl.create({\r\n      cssClass: 'my-custom-class',\r\n       header: 'Order',\r\n      // subHeader: 'Subtitle',\r\n      message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  async presentAlertConfirm(product) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Clear cart !',\r\n      message: '<strong>Are you sure you want to remove all items in your cart ?</strong>',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'OK',\r\n          handler: () => {\r\n            this.orderService.removeProduct(product);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n  onclick() {\r\n    this.id = this.orderService.getRestaurantId().value;\r\n    this.router.navigate(['/menu/details/' + this.id]);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CartModalPageRoutingModule } from './cart-modal-routing.module';\n\nimport { CartModalPage } from './cart-modal.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CartModalPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [CartModalPage]\n})\nexport class CartModalPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CartModalPage } from './cart-modal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartModalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CartModalPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}