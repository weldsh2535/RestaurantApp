(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{X3zk:function(e,t,r){"use strict";r.r(t),r.d(t,"LoginPageModule",function(){return f});var o=r("ofXK"),i=r("3Pt+"),n=r("TEn/"),s=r("tyNb"),a=r("mrSG"),l=r("fXoL"),c=r("enR7");function b(e,t){1&e&&l.Rb(0,"small",21)}function u(e,t){1&e&&l.Rb(0,"small",21)}const d=function(e,t){return{"fa-eye-slash":e,"fa-eye":t}},m=[{path:"",component:(()=>{class e{constructor(e,t,r,o,i,n){this.authServices=e,this.router=t,this.alertCtrl=r,this.fb=o,this.modalController=i,this.platform=n,this.regform=this.fb.group({})}ngOnInit(){this.regform=this.fb.group({email:["",i.m.compose([i.m.required,i.m.email])],password:["",i.m.required]})}signIn(){let e=this.regform.get("email").value,t=this.regform.get("password").value;this.regform.valid?this.authServices.getAllAccount().subscribe(r=>Object(a.a)(this,void 0,void 0,function*(){let o=r.filter(r=>r.email==e&&r.password==t);o.length>0?(localStorage.setItem("userId",o[0].id),localStorage.setItem("fullName",o[0].fullName),localStorage.setItem("roleType",o[0].type),localStorage.setItem("active",o[0].active),"restaurant"==o[0].type&&("true"==o[0].active?(this.router.navigate(["/menu/restaurant-home"]),this.regform.reset()):this.presentAlert("Please contact your system administrator"))):this.presentAlert("Please enter correct username and password!!")}),e=>Object(a.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(e)})):this.errorAlert()}ionViewDidEnter(){this.subscription=this.platform.backButton.subscribe(()=>{navigator.app.exitApp()})}ionViewWillLeave(){this.subscription.unsubscribe()}presentAlert(e){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Login",message:e,buttons:["OK"]});yield t.present()})}errorAlert(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Error",message:"Please Enter All field.",buttons:["OK"]});yield e.present()})}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}register(){this.router.navigate(["/signup"])}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a),l.Qb(s.g),l.Qb(n.a),l.Qb(i.a),l.Qb(n.T),l.Qb(n.V))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-login"]],decls:34,vars:9,consts:[[3,"translucent"],["color","primary"],[2,"text-align","center"],["padding",""],[1,"container","pt-3"],[1,"row","justify-content-sm-center"],[1,"col-sm-10","col-md-6"],[1,"card","border-info"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup"],["name","mail"],["type","text","formControlName","email","placeholder","Enter your email",3,"required"],["class","form-text text-muted",4,"ngIf"],["name","lock-closed"],["placeholder","Enter your password","formControlName","password",3,"type","required"],[1,"fa",3,"ngClass","click"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","mb-1",2,"margin-top","12px","border-top-left-radius","20px","border-top-right-radius","20px",3,"click"],[2,"margin-left","-37px","color","#234ada","background-color","#f8f9fa",3,"click"],[1,"form-text","text-muted"]],template:function(e,t){1&e&&(l.Vb(0,"ion-header",0),l.Vb(1,"ion-toolbar",1),l.Vb(2,"ion-title",2),l.Ec(3,"Login "),l.Ub(),l.Ub(),l.Ub(),l.Vb(4,"ion-content",3),l.Vb(5,"div",4),l.Vb(6,"div",5),l.Vb(7,"div",6),l.Vb(8,"div",7),l.Vb(9,"div",8),l.Ec(10,"Login"),l.Ub(),l.Vb(11,"div",9),l.Vb(12,"div",10),l.Vb(13,"div",11),l.Vb(14,"form",12),l.Vb(15,"ion-item"),l.Rb(16,"ion-icon",13),l.Ec(17,"\xa0\xa0 "),l.Rb(18,"ion-input",14),l.Cc(19,b,1,0,"small",15),l.Ub(),l.Vb(20,"ion-item"),l.Rb(21,"ion-icon",16),l.Ec(22,"\xa0\xa0 "),l.Rb(23,"ion-input",17),l.Cc(24,u,1,0,"small",15),l.Vb(25,"i",18),l.gc("click",function(){return t.toggleFieldTextType()}),l.Ub(),l.Ub(),l.Vb(26,"button",19),l.gc("click",function(){return t.signIn()}),l.Ec(27," Login "),l.Ub(),l.Vb(28,"ion-item"),l.Vb(29,"ion-label"),l.Ec(30,"Don't have an account ?"),l.Ub(),l.Vb(31,"button",20),l.gc("click",function(){return t.register()}),l.Ec(32," Register "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Rb(33,"router-outlet")),2&e&&(l.oc("translucent",!0),l.Eb(14),l.oc("formGroup",t.regform),l.Eb(5),l.oc("ngIf",!t.regform.get("email").valid&&t.regform.get("email").touched),l.Eb(4),l.oc("type",t.fieldTextType?"text":"password"),l.Eb(1),l.oc("ngIf",!t.regform.get("password").valid&&t.regform.get("password").touched),l.Eb(1),l.oc("ngClass",l.sc(6,d,!t.fieldTextType,t.fieldTextType)))},directives:[n.q,n.P,n.N,n.k,i.n,i.i,i.c,n.u,n.r,n.t,n.Y,i.h,i.b,i.l,o.n,o.l,n.y,s.k],styles:[""]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({imports:[[s.j.forChild(m)],s.j]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({imports:[[o.c,i.d,n.Q,p,i.k]]}),e})()}}]);