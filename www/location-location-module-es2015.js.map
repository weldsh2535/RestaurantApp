{"version":3,"sources":["./src/app/Service/location.service.ts","./node_modules/location-picker/dist/location-picker.es5.js","./src/app/location/location.module.ts","./src/app/location/location.page.html","./src/app/location/location.page.scss","./src/app/Service/shared.service.ts","./src/app/location/location-routing.module.ts","./src/app/location/location.page.ts"],"names":[],"mappings":"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","file":"location-location-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { Location } from 'src/Table/table';\nimport { AppError } from '../common/app-error';\nimport { BadInput } from '../common/bad-input';\nimport { NotFoundError } from '../common/not-found-error';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationService {\n  private locationCollectionList: AngularFirestoreCollection<any>;\n  private locationList: Observable<any[]>;\n  constructor(private db: AngularFirestore) {\n    this.locationCollectionList = db.collection<Location>('Location');\n  }\n  create(locationObj) { \n    return this.locationCollectionList.add(locationObj)\n  }\n  getAllLocation() {\n    this.locationList = this.locationCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.locationList;\n  }\n  getLocation(id) {\n    return this.locationCollectionList.doc<any>(id).valueChanges();\n  }\n  updateLocation(locationObj: Location, id: string) {\n    return this.locationCollectionList.doc(id).update(locationObj)\n    .catch(this.handleError);\n  }\n  removeLocation(id) {\n    return this.locationCollectionList.doc(id).delete()\n    .catch(this.handleError);\n  }\n  private handleError(error: Response) {\n    if (error.status === 400)\n      return Observable.throw(new BadInput(error.json()));\n    if (error.status === 404)\n      return Observable.throw(new NotFoundError());\n     return Observable.throw(new AppError(error));\n  }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".location-picker .centerMarker{position:absolute;background:url(\\\"data:image/png;base64,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\\\") no-repeat;background-size:100%;top:50%;left:50%;z-index:1;margin-left:-14px;margin-top:-43px;height:44px;width:28px;cursor:pointer}\";\nstyleInject(css);\n\nvar LocationPicker = /** @class */ (function () {\r\n    function LocationPicker(element, options, mapOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        if (mapOptions === void 0) { mapOptions = {}; }\r\n        var pO = {\r\n            setCurrentPosition: true\r\n        };\r\n        Object.assign(pO, options);\r\n        var mO = {\r\n            center: new google.maps.LatLng(pO.lat ? pO.lat : 34.4346, pO.lng ? pO.lng : 35.8362),\r\n            zoom: 15\r\n        };\r\n        Object.assign(mO, mapOptions);\r\n        // Allow both, a string with the element's id or a direct reference to the element\r\n        if (element instanceof HTMLElement) {\r\n            this.element = element;\r\n        }\r\n        else {\r\n            this.element = document.getElementById(element);\r\n        }\r\n        this.map = new google.maps.Map(this.element, mO);\r\n        // Append CSS centered marker element\r\n        var node = document.createElement('div');\r\n        node.classList.add('centerMarker');\r\n        if (this.element) {\r\n            this.element.classList.add('location-picker');\r\n            this.element.children[0].appendChild(node);\r\n        }\r\n        // Set center to current position if attribute `setCurrentPosition` is true and no initial position is set\r\n        if (pO.setCurrentPosition && !pO.lat && !pO.lng) {\r\n            this.setCurrentPosition();\r\n        }\r\n    }\r\n    LocationPicker.prototype.getMarkerPosition = function () {\r\n        var latLng = this.map.getCenter();\r\n        return { lat: latLng.lat(), lng: latLng.lng() };\r\n    };\r\n    LocationPicker.prototype.setLocation = function (lat, lng) {\r\n        this.map.setCenter(new google.maps.LatLng(lat, lng));\r\n    };\r\n    LocationPicker.prototype.setCurrentPosition = function () {\r\n        var _this = this;\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(function (position) {\r\n                var pos = {\r\n                    lat: position.coords.latitude,\r\n                    lng: position.coords.longitude\r\n                };\r\n                _this.map.setCenter(pos);\r\n            }, function () {\r\n                console.log('Could not determine your location...');\r\n            });\r\n        }\r\n        else {\r\n            console.log('Your browser does not support Geolocation.');\r\n        }\r\n    };\r\n    return LocationPicker;\r\n}());\n\nexport default LocationPicker;\n//# sourceMappingURL=location-picker.es5.js.map\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationPageRoutingModule } from './location-routing.module';\n\nimport { LocationPage } from './location.page';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LocationPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LocationPage]\n})\nexport class LocationPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button  fill=\\\"solid\\\"  shape=\\\"round\\\" color=\\\"light\\\" (click)=\\\"backToHome()\\\" >\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\" color=\\\"primary\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Location</ion-title>\\n    <ion-buttons slot=\\\"end\\\"> </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div id=\\\"map\\\"></div>\\n<div *ngIf=\\\"location\\\">\\n  <ion-item>\\n    <button (click)=\\\"setLocationPick()\\\">Submit Location</button>\\n  </ion-item>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Lattitude</b>\\n      </ion-col>\\n      <ion-col> {{latitude}} </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Longitude</b>\\n      </ion-col>\\n      <ion-col> {{longitude}} </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</div>\\n</ion-content>\\n\";","export default \"#map {\\n  width: 100%;\\n  height: 580px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGxvY2F0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FBQUoiLCJmaWxlIjoibG9jYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiAgI21hcCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNTgwcHg7XHJcbn0iXX0= */\";","import { Injectable } from '@angular/core';\nimport { BehaviorSubject,Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n  restaurant = new BehaviorSubject<any>({});\n  status= new BehaviorSubject<any>({});\n  location = new BehaviorSubject<any>({});\n  orderId = new BehaviorSubject<any> ({});\n  RestaurantLocation = new BehaviorSubject<any>({});\n  resId = new BehaviorSubject<any>({});\n  getLocation(){\n    return this.location;\n  }\n  getStatus(){\n    return this.status;\n  }\n  getRestaurantLocation(){\n    return this.RestaurantLocation;\n  }\n  getRestaurantId(){\n    return this.resId;\n  }\n  constructor() { }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LocationPage } from './location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LocationPageRoutingModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AlertController, IonItemSliding, Platform } from '@ionic/angular';\nimport { Location } from 'src/Table/table';\nimport { LocationService } from '../Service/location.service';\nimport LocationPicker from \"location-picker\";\nimport { SharedService } from '../Service/shared.service';\nimport { Router } from '@angular/router';\ndeclare var google:any;\n@Component({\n  selector: 'app-location',\n  templateUrl: './location.page.html',\n  styleUrls: ['./location.page.scss'],\n})\nexport class LocationPage implements OnInit {\n  @ViewChild('map',{read:ElementRef,static:false}) mapElement: ElementRef;\n  map: any;\n  currentMapTrack = null;\n  isTracking = false;\n  trackedRoute = [];\n  previousTracks = [];\n  address: string;\n  latitude: number;\n  longitude: number;\n  regform = this.fb.group({})\n  locationId: string;\n  editMode: boolean\n  ListOfCustomer: Location[];\n  listOfLocation: any;\n  usePicker: boolean;\n  currentLat: any;\n  currentLong: any;\n  marker: any;\n  lp: LocationPicker;\n  status: any;\n  RestaurantLocation: any;\n  location:boolean = false;\n  constructor(private fb: FormBuilder,\n    private locationService: LocationService,\n    private alertController: AlertController,\n    private sharedService: SharedService,\n    private router: Router,\n    private platform: Platform) {\n\n  }\n  ngOnInit() {\n  this.regform = this.fb.group({\n      Latitude: [\"\", Validators.required],\n      Longitude: [\"\", Validators.required],\n      Description: [\"\"],\n    });\n    if ((this.platform.is('mobile') && !this.platform.is('hybrid')) ||\n      this.platform.is('desktop')\n    ) {\n      this.usePicker = true;\n    }\n    this.getLocation();\n    this.status = this.sharedService.status.value;\n    if(this.status == \"driver-home\" || this.status == \"restaurant-home\" || this.status ==\"order\" || this.status ==\"restaurant-history\"){\n      this.location=false;\n    }\n    else{\n      this.location=true;\n    }\n  // console.log(this.status);\n    this.RestaurantLocation = this.sharedService.RestaurantLocation.value;\n    console.log(this.RestaurantLocation);\n  }\n  setLocationPick() {\n    this.latitude = this.lp.getMarkerPosition().lat;\n    this.longitude = this.lp.getMarkerPosition().lng;\n    let data = {\n      lat: this.latitude,\n      lon: this.longitude\n    }\n    console.log(data)\n    this.sharedService.location.next(data)\n    this.router.navigate([\"/menu/\" + this.status]);\n  }\n  showMap(){\n    const location = new google.maps.LatLng(-17.824858,31.853828);\n    const options={\n      center:location,\n      zoom:15,\n      disableDefaultUI:true\n    }\n    this.map = new google.maps.Map(this.mapElement.nativeElement, options);\n  }\n  ionViewDidEnter() {\n    this.lp = new LocationPicker('map', {\n      setCurrentPosition: true, // You can omit this, defaults to true\n    }, {\n      zoom: 15 // You can set any google map options here, zoom defaults to 15\n    });\n    let lat = this.RestaurantLocation.lat;\n    let lng = this.RestaurantLocation.lon;\n    this.setLocation(lat, lng);\n  }\n  setLocation(lat: number, lng: number) {\n   // this.map.setCenter(new google.maps.LatLng(lat, lng))\n  }\n  getMarkerPosition() {\n    const latLng = this.map.getCenter()\n    return { lat: latLng.lat(), lng: latLng.lng() }\n  }\n  getLocation() {\n    this.locationService.getAllLocation().subscribe(res => {\n      this.listOfLocation = res;\n    })\n  }\n  saveLocation() {\n    if (this.regform.valid) {\n      if (!this.locationId) {\n        this.locationService.create(this.regform.value);\n      }\n      else {\n        this.locationService.updateLocation(this.regform.value, this.locationId);\n      }\n      this.presentAlert();\n      this.regform.reset();\n    }\n    else {\n      this.ErrorAlert()\n    }\n  }\n  Edit(location: Location, slidingItem: IonItemSliding) {\n    this.editMode = true;\n    this.locationId = location.id;\n    this.regform.get('Description').setValue(location.Description);\n    this.regform.get('Latitude').setValue(location.Latitude);\n    this.regform.get('Longitude').setValue(location.Longitude);\n    slidingItem.close();\n  }\n  delete(location: Location, slidingItem: IonItemSliding) {\n    this.presentAlertConfirm(location);\n    slidingItem.close();\n  }\n  async presentAlertConfirm(location: Location) {\n    const alert = await this.alertController.create({\n      header: 'Confirm!',\n      message: '<strong>Are you sure you want delete?</strong>',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'OK',\n          handler: () => {\n            this.locationService.removeLocation(location.id);\n            this.regform.reset();\n            this.locationId = null;\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n  async ErrorAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Error',\n      // subHeader: 'Subtitle',\n      message: 'Please Enter All field.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Location',\n      // subHeader: 'Subtitle',\n      message: 'Location Saved successfully.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  backToHome() {\n    this.router.navigate([\"/menu/\" + this.status]);\n  }\n}\n"],"sourceRoot":"webpack:///"}