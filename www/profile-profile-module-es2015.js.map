{"version":3,"sources":["./src/app/profile/profile.module.ts","./src/app/profile/profile.page.ts","./src/app/profile/profile.page.html","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.page.scss"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AAEA;AAEuB;AAEvB;IAWhC,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAT7B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,gFAAwB;SACzB;QACD,YAAY,EAAE,CAAC,yDAAW,CAAC;KAC5B,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB2C;AACC;AACjC;AACQ;AAEW;AACN;AACT;IAOhC,WAAW,SAAX,WAAW;IAQtB,YAAoB,MAAc,EAAU,YAAyB,EAC3D,SAA0B,EAAU,cAA8B,EAClE,EAAe;QAFL,WAAM,GAAN,MAAM,CAAQ;QAAU,iBAAY,GAAZ,YAAY,CAAa;QAC3D,cAAS,GAAT,SAAS,CAAiB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAClE,OAAE,GAAF,EAAE,CAAa;QARzB,cAAS,GAAG,KAAK,CAAC;QAClB,YAAO,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAOC,CAAC;IAE9B,QAAQ;QACN,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IACD,UAAU;QACR,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAClD,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;YACzB,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC;YACpF,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ;QAC5E,CAAC,CAAC;IACJ,CAAC;IACD,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAC7C,CAAC;IACD,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;IACrC,CAAC;IACD,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;IACrC,CAAC;IACK,MAAM;;YACR,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YACrC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YACvC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YACrC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACnC,CAAM,KAAK,EAAC,EAAE,CAAC;gBACb,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBACxC,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;iBAC1C,CAAC,CAAC;gBACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC;QACL,CAAC;KAAA;IACD,WAAW;QACT,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;YAC1B,gDAAgD;YAChD,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YACzC,OAAO;SACR;QACD,uDAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;YACtB,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,4DAAY,CAAC,MAAM;YAC3B,kBAAkB,EAAE,IAAI;YACxB,MAAM,EAAE,GAAG;YACX,KAAK,EAAE,GAAG;YACV,UAAU,EAAE,gEAAgB,CAAC,MAAM;SACpC,CAAC;aACC,IAAI,CAAC,KAAK,CAAC,EAAE;YACZ,IAAI,CAAC,gBAAgB,GAAG,wBAAwB,GAAG,KAAK,CAAC,YAAY,CAAC;YACtE,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrF,IAAI,IAAI,GAAG;gBACT,KAAK,EAAE,QAAQ,CAAC,KAAK;gBACrB,WAAW,EAAE,QAAQ,CAAC,WAAW;gBACjC,QAAQ,EAAE,QAAQ,CAAC,QAAQ;gBAC3B,QAAQ,EAAE,QAAQ,CAAC,QAAQ;gBAC3B,iBAAiB,EAAE,QAAQ,CAAC,UAAU;gBACtC,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,KAAK,EAAE,IAAI,CAAC,gBAAgB;aAC7B;YACD,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC;QACzC,CAAC,CAAC;aACD,KAAK,CAAC,KAAK,CAAC,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aAC1C;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;IACP,CAAC;IACD,YAAY,CAAC,KAAY;QACvB,MAAM,UAAU,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,UAAU,EAAE;YACf,OAAO;SACR;QACD,MAAM,EAAE,GAAG,IAAI,UAAU,EAAE,CAAC;QAC5B,EAAE,CAAC,MAAM,GAAG,GAAG,EAAE;YACf,MAAM,OAAO,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACrC,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC;QAClC,CAAC,CAAC;QACF,EAAE,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IAC/B,CAAC;CACF;;YA1GQ,sDAAM;YAIN,iEAAW;YAHX,8DAAe;YAEf,uEAAc;YAEd,0DAAW;;;4BAQjB,uDAAS,SAAC,YAAY,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;;AAD/B,WAAW;IALvB,+DAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,+EAAkC;;KAEnC,CAAC;GACW,WAAW,CA8FvB;AA9FuB;;;;;;;;;;;;;ACdxB;AAAe,mWAAoS,2CAA2C,oBAAoB,4RAA4R,eAAe,ycAAyc,MAAM,MAAM,+KAA+K,MAAM,MAAM,kKAAkK,MAAM,MAAM,8GAA8G,E;;;;;;;;;;;;;;;;;;;ACAhiD;AACc;AAEV;AAE7C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,yDAAW;KACvB;CACF,CAAC;IAMW,wBAAwB,SAAxB,wBAAwB;CAAG;AAA3B,wBAAwB;IAJpC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;AChBrC;AAAe,4EAAa,uBAAuB,GAAG,+CAA+C,mRAAmR,E","file":"profile-profile-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { Plugins, CameraSource, CameraResultType } from '@capacitor/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Account } from 'src/Table/table';\nimport { AccountService } from '../Service/account.service';\nimport { AuthService } from '../Service/auth.service';\nimport { FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n  @ViewChild('filePicker', { static: false }) filePickerRef: ElementRef<HTMLInputElement>;\n  usePicker = false;\n  regform = this.fb.group({});\n  base64textString: string;\n  photo: string;\n  listOfAccount: Account[];\n  fullName:string\n  constructor(private router: Router, private authServices: AuthService,\n    private alertCtrl: AlertController, private accountService: AccountService,\n    private fb: FormBuilder) { }\n\n  ngOnInit() {\n    this.getAccount();\n  }\n  getAccount() {\n    this.accountService.getAllAccount().subscribe(res => {\n      this.listOfAccount = res;\n      this.base64textString = res.find(c => c.id == localStorage.getItem(\"userId\")).photo;\n      this.fullName = res.find(c=>c.id==localStorage.getItem(\"userId\")).FullName\n    })\n  }\n  account() {\n    this.router.navigate([\"/account-details\"]);\n  }\n  setting() {\n    this.router.navigate([\"/setting\"]);\n  }\n  contact() {\n    this.router.navigate([\"/contact\"]);\n  }\n  async logout(): Promise<void> {\n      localStorage.setItem(\"userId\", null);\n      localStorage.setItem(\"fullName\", null);\n      localStorage.setItem(\"active\", null);\n      localStorage.setItem(\"roleType\", null);\n      this.router.navigateByUrl('login');\n      async error => {\n        const alert = await this.alertCtrl.create({\n          message: error.message,\n          buttons: [{ text: 'ok', role: 'cancel' }],\n        });\n        await alert.present();\n      }\n  }\n  onPickImage() {\n    if (this.usePicker == true) {\n      // if (!Capacitor.isPluginAvailable('Camera')) {\n      this.filePickerRef.nativeElement.click();\n      return;\n    }\n    Plugins.Camera.getPhoto({\n      quality: 50,\n      source: CameraSource.Prompt,\n      correctOrientation: true,\n      height: 100,\n      width: 100,\n      resultType: CameraResultType.Base64\n    })\n      .then(image => {\n        this.base64textString = 'data:image/png;base64,' + image.base64String;\n        let accounts = this.listOfAccount.find(c => c.id == +localStorage.getItem(\"userId\"));\n        let data = {\n          email: accounts.email,\n          phonenumber: accounts.phonenumber,\n          password: accounts.password,\n          FullName: accounts.fullName,\n          FirstTimeLocation: accounts.locationId,\n          active: accounts.active,\n          type: accounts.type,\n          photo: this.base64textString\n        }\n        this.accountService.updateAccount(data)\n      })\n      .catch(error => {\n        console.log(error);\n        if (this.usePicker) {\n          this.filePickerRef.nativeElement.click();\n        }\n        return false;\n      });\n  }\n  onFileChosen(event: Event) {\n    const pickedFile = (event.target as HTMLInputElement).files[0];\n    if (!pickedFile) {\n      return;\n    }\n    const fr = new FileReader();\n    fr.onload = () => {\n      const dataUrl = fr.result.toString();\n      this.base64textString = dataUrl;\n    };\n    fr.readAsDataURL(pickedFile);\n  }\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Profile</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<ion-grid style=\\\"margin-left: 90px;\\\">\\n     <ion-avatar style=\\\"height: 62px;\\n      width: 68px;\\\" class=\\\"ion-margin-start\\\" >\\n        <ion-img role=\\\"button\\\" class=\\\"image\\\" (click)=\\\"onPickImage()\\\" [src]=\\\"base64textString\\\"\\n        *ngIf=\\\"base64textString\\\"></ion-img>\\n      </ion-avatar>\\n       <ion-icon name=\\\"camera\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label>{{this.fullName}}</ion-label>\\n      <ion-button color=\\\"primary\\\" (click)=\\\"onPickImage()\\\" *ngIf=\\\"!base64textString\\\">\\n        <ion-icon name=\\\"camera\\\" slot=\\\"start\\\"></ion-icon>\\n      </ion-button>\\n    <input hidden type=\\\"file\\\" accept=\\\"image/jpeg\\\" *ngIf=\\\"usePicker\\\" #filePicker (change)=\\\"onFileChosen($event)\\\" />\\n</ion-grid>\\n<ion-item lines=\\\"none\\\" (click)=\\\"account()\\\">\\n  <ion-icon color=\\\"primary\\\" name=\\\"person-outline\\\"></ion-icon><ion-label>&nbsp;&nbsp;&nbsp;Account details</ion-label>\\n</ion-item>\\n<ion-item lines=\\\"none\\\" (click)=\\\"setting()\\\">\\n  <ion-icon color=\\\"primary\\\" name=\\\"settings-outline\\\"></ion-icon><ion-label>&nbsp;&nbsp;&nbsp;Settings</ion-label>\\n</ion-item>\\n<ion-item lines=\\\"none\\\" (click)=\\\"contact()\\\">\\n  <ion-icon color=\\\"primary\\\" name=\\\"call-sharp\\\"></ion-icon><ion-label>&nbsp;&nbsp;&nbsp;Contact Us</ion-label>\\n</ion-item>\\n<ion-button (click)=\\\"logout()\\\">loginout</ion-button>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","export default \"ion-button {\\n  margin-left: 100px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHByb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InByb2ZpbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWJ1dHRvbntcclxuICAgIG1hcmdpbi1sZWZ0OiAxMDBweDtcclxufSJdfQ== */\";"],"sourceRoot":"webpack:///"}