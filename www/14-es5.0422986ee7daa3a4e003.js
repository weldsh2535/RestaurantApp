!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function r(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14,17,18],{"+cje":function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r("HDdC"),o=r("XEKg"),s=r("5Jak"),u=r("/GcI"),c=r("cxbk"),d=r("fXoL"),f=r("tk/3"),l=function(){var t=function(){function t(e){i(this,t),this.http=e,this.APIURL=c.a.apiURL}return a(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/restaurant",t)}},{key:"getAllRestaurant",value:function(){return this.http.get(this.APIURL+"/restaurant")}},{key:"updateRestaurant",value:function(t){return this.http.put(this.APIURL+"/restaurant/",t)}},{key:"removeRestaurant",value:function(t){return this.http.delete(this.APIURL+"/restaurant/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new o.a(t.json()):404===t.status?new s.a:new u.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.cc(f.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8D9V":function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r("HDdC"),o=r("cxbk"),s=r("/GcI"),u=r("XEKg"),c=r("5Jak"),d=r("fXoL"),f=r("tk/3"),l=function(){var t=function(){function t(e){i(this,t),this.http=e,this.APIURL=o.a.apiURL}return a(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/orderdetail",t)}},{key:"getAllOrderDetail",value:function(){return this.http.get(this.APIURL+"/orderdetail")}},{key:"updateOrderDetail",value:function(t){return this.http.put(this.APIURL+"/orderdetail/",t)}},{key:"removeOrderDetail",value:function(t){return this.http.delete(this.APIURL+"/orderdetail/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new u.a(t.json()):404===t.status?new c.a:new s.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.cc(f.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"Dkj+":function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r("HDdC"),o=r("cxbk"),s=r("/GcI"),u=r("XEKg"),c=r("5Jak"),d=r("fXoL"),f=r("tk/3"),l=function(){var t=function(){function t(e){i(this,t),this.http=e,this.APIURL=o.a.apiURL}return a(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/food",t)}},{key:"getAllFood",value:function(){return this.http.get(this.APIURL+"/food")}},{key:"updateFood",value:function(t){return this.http.put(this.APIURL+"/food/",t)}},{key:"removeFood",value:function(t){return this.http.delete(this.APIURL+"/food/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new u.a(t.json()):404===t.status?new c.a:new s.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.cc(f.a))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},VNSQ:function(r,n,o){"use strict";o.d(n,"a",function(){return g});var s=o("2Vo4"),u=o("HDdC"),c=o("/GcI"),d=o("XEKg"),f=o("5Jak"),l=o("cxbk"),h=o("fXoL"),v=o("tk/3"),p=o("ldse"),g=function(){var r=function(){function r(t,e){i(this,r),this.http=t,this.sharedService=e,this.cart=[],this.cartItemCount=new s.a(0),this.RestaurantId=new s.a({}),this.orderStatus=new s.a({}),this.order=[],this.orderItemCount=new s.a(0),this.APIURL=l.a.apiURL}return a(r,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/order",t)}},{key:"getAllOrder",value:function(){return this.http.get(this.APIURL+"/order")}},{key:"updateOrder",value:function(t){return this.http.put(this.APIURL+"/order/",t)}},{key:"updateOrderStatus",value:function(t){return this.http.put(this.APIURL+"/orderstatus/",t)}},{key:"updateRestaurantStatus",value:function(t){return this.http.put(this.APIURL+"/restaurantstatus/",t)}},{key:"updateStatus",value:function(t){return this.http.put(this.APIURL+"/status/",t)}},{key:"removeOrder",value:function(t){return this.http.delete(this.APIURL+"/order/"+t).toPromise()}},{key:"handleError",value:function(t){return u.a.throw(400===t.status?new d.a(t.json()):404===t.status?new f.a:new c.a(t))}},{key:"getCart",value:function(){return this.cart}},{key:"getOrders",value:function(){return this.order}},{key:"getCartItemCount",value:function(){return this.cartItemCount}},{key:"getOrderItemCount",value:function(){return this.orderItemCount}},{key:"getRestaurantId",value:function(){return this.RestaurantId}},{key:"getOrderStatus",value:function(){return this.orderStatus}},{key:"addOrder",value:function(t){var e=this;this.order=[],this.amount=0,this.order.forEach(function(t){var r=e.order.indexOf(function(e){return e.orderDetailsId===t.orderDetailsId});e.order.splice(r,1)}),this.orderItemCount.next(0),t.forEach(function(t){e.amount=e.amount+t.amount,e.order.push({CookingTime:t.CookingTime,DeliveryTime:t.DeliveryTime,Description:t.Description,Name:t.Name,Price:t.Price,amount:t.amount,categoryId:t.categoryId,id:t.Food,picture:t.picture,restaurantId:t.restaurantId,type:t.type,orderDetailsId:t.orderDetailsId})}),this.orderItemCount.next(this.orderItemCount.value+this.amount)}},{key:"addProduct",value:function(t){var r,n=!1,i=e(this.cart);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id===t.id){o.amount+=1,n=!0;break}}}catch(a){i.e(a)}finally{i.f()}n||(t.amount=1,this.cart.push(t)),this.cartItemCount.next(this.cartItemCount.value+1)}},{key:"decreaseProduct",value:function(r){var n,i=e(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var o=t(n.value,2),a=o[0],s=o[1];s.id===r.id&&(s.amount-=1,0==s.amount&&this.cart.splice(a,1))}}catch(u){i.e(u)}finally{i.f()}this.cartItemCount.next(this.cartItemCount.value-1)}},{key:"removeProduct",value:function(r){var n,i=e(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var o=t(n.value,2),a=o[0],s=o[1];s.id===r.id&&(this.cartItemCount.next(this.cartItemCount.value-s.amount),this.cart.splice(a,1))}}catch(u){i.e(u)}finally{i.f()}}}]),r}();return r.\u0275fac=function(t){return new(t||r)(h.cc(v.a),h.cc(p.a))},r.\u0275prov=h.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},YGi6:function(t,e,r){"use strict";r.r(e),r.d(e,"RestaurantHomePageModule",function(){return P});var n=r("ofXK"),o=r("3Pt+"),s=r("TEn/"),u=r("tyNb"),c=r("mrSG"),d=r("fXoL"),f=r("Dkj+"),l=r("VNSQ"),h=r("6wYF"),v=r("8D9V"),p=r("ldse"),g=r("+cje"),m=["pageTop"];function b(t,e){if(1&t&&(d.Vb(0,"div",13),d.Vb(1,"ion-grid",13),d.Vb(2,"ion-row",13),d.Vb(3,"ion-label",14),d.Ec(4),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t){var r=d.ic();d.Eb(4),d.Gc("",r.messageOrder," ")}}function y(t,e){if(1&t){var r=d.Wb();d.Vb(0,"div",24),d.Vb(1,"ion-button",21),d.gc("click",function(){d.wc(r);var t=e.$implicit,n=e.index,i=d.ic(2),o=i.$implicit,a=i.index;return d.ic().toggleGroup(o,a,t.val,n)}),d.Ec(2),d.Ub(),d.Ub()}if(2&t){var n=e.$implicit,i=d.ic(3);d.oc("hidden",i.setDisabled(n)),d.Eb(2),d.Gc(" ",n.val,"")}}function k(t,e){if(1&t&&(d.Vb(0,"ion-row"),d.Cc(1,y,3,2,"div",23),d.Ub()),2&t){var r=d.ic().$implicit;d.Eb(1),d.oc("ngForOf",r.status)}}function w(t,e){if(1&t&&(d.Vb(0,"ion-select-option",29),d.Ec(1),d.Ub()),2&t){var r=e.$implicit,n=d.ic(3);d.pc("value",r.val),d.oc("disabled",n.setDisabled(r)),d.Eb(1),d.Gc(" ",r.val," ")}}function O(t,e){if(1&t){var r=d.Wb();d.Vb(0,"ion-row",25),d.Vb(1,"ion-label",26),d.Ec(2,"Status"),d.Ub(),d.Vb(3,"ion-select",27),d.gc("ionChange",function(t){d.wc(r);var e=d.ic().$implicit;return d.ic().isChecked(e,t)}),d.Cc(4,w,2,3,"ion-select-option",28),d.Ub(),d.Ub()}if(2&t){var n=d.ic().$implicit;d.Eb(4),d.oc("ngForOf",n.restaurantStatus)}}var I=function(t,e){return{"odd-active":t,"even-active":e}};function R(t,e){if(1&t){var r=d.Wb();d.Vb(0,"ion-row",15),d.Vb(1,"ion-col",16),d.Vb(2,"ion-label"),d.Vb(3,"p",1),d.Ec(4),d.jc(5,"currency"),d.Ub(),d.Vb(6,"span"),d.Ec(7),d.jc(8,"date"),d.Ub(),d.Ub(),d.Vb(9,"ion-button",17),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().viewOrder(t.id)}),d.Ec(10," view order "),d.Ub(),d.Cc(11,k,2,1,"ion-row",18),d.Cc(12,O,5,1,"ion-row",19),d.Ub(),d.Vb(13,"ion-col",20),d.Vb(14,"ion-label"),d.Ec(15),d.Vb(16,"p"),d.Ec(17),d.Ub(),d.Vb(18,"span"),d.Vb(19,"ion-button",21),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().location(t.CLocation)}),d.Rb(20,"ion-icon",22),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){var n=e.$implicit;d.oc("ngClass",d.sc(13,I,e.odd,e.even)),d.Eb(4),d.Gc("Total : ",d.lc(5,7,n.Total,"ETB"),""),d.Eb(3),d.Fc(d.lc(8,10,n.DateTime,"short")),d.Eb(4),d.oc("ngIf",0==n.checkStatusofValue),d.Eb(1),d.oc("ngIf",0==n.checkStatus),d.Eb(3),d.Gc(" ",n.Customer," "),d.Eb(2),d.Fc(n.PhoneNumber)}}var x,S,C,U=function(t,e){return{"location-visible":t,"location-hidden":e}},A=[{path:"",component:(x=function(){function t(e,r,n,o,a,s,u,c,d,f){var l=this;i(this,t),this.foodService=e,this.fb=r,this.orderService=n,this.accountService=o,this.orderDetailsService=a,this.router=s,this.sharedService=u,this.toastController=c,this.loadingController=d,this.restaurantService=f,this.listOfOrder=[],this.cart=[],this.regform=this.fb.group({}),this.dayFinished=[],this.restaurantstatus=[],this.activeCategory=0,this.shownGroup=null,this.hideme={},this.status=[],this.selectedIndex=-1,this.indexes=[],this.increment=0,this.showScroll=!1,this.currentDate=(new Date).toDateString(),this.accountService.getAllAccount().subscribe(function(t){l.listOfAccount=t}),this.getRestaurant()}return a(t,[{key:"pageScroller",value:function(){this.pageTop.scrollToTop()}},{key:"ngOnInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({message:"Getting Orders ...",spinner:"bubbles",animated:!0});case 2:return this.loader=t.sent,t.next=5,this.loader.present().then();case 5:this.regform=this.fb.group({status:[""]}),this.getAllOrder(),this.getFood(),this.getOrder(),this.getOrderDetails();case 10:case"end":return t.stop()}},t,this)}))}},{key:"getFood",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.foodService.getAllFood().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.listOfFood=e.sent;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getAccount",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.accountService.getAllAccount().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.listOfAccount=e.sent;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOrderDetails",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.orderDetailsService.getAllOrderDetail().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.listOfOrderDetails=e.sent;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getAllOrder",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.orderService.getAllOrder().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.listOfAllOrder=e.sent;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getRestaurant",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.restaurantService.getAllRestaurant().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.listOfRestaurant=e.sent;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOrder",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.listOfOrder=[],this.orderService.getAllOrder().subscribe(function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return this.UserId=localStorage.getItem("userId"),console.log(this.UserId),this.listOfRestaurant.find(function(t){return t.accountId==n.UserId}),e.next=7,t.filter(function(t){return t.restaurantId==n.UserId&&t.restaurantStatuses.find(function(t){return 0==t.isChecked&&"ready to service"==t.val})&&t.statuses.find(function(t){return 0==t.isChecked&&"Reject"==t.val})});case 7:r=e.sent,this.orderStatus=r.filter(function(t){return t.restaurantStatuses.find(function(t){return 1==t.isChecked&&"start cooking"==t.val})||t.restaurantStatuses.find(function(t){return 1==t.isChecked&&"cooked"==t.val})||t.restaurantStatuses.find(function(t){return 1==t.isChecked&&"ready to service"==t.val})}),this.orderStatus1=r.filter(function(t){return t.statuses.find(function(t){return 1==t.isChecked&&"Accept"==t.val})}),r.length>0?(this.listOfOrder=[],r.forEach(function(t){var e=n.orderStatus.find(function(e){return e.id==t.id}),r=n.orderStatus1.find(function(e){return e.id==t.id});n.checkStatus=!!e,r?(n.statusofValue=!0,n.checkStatus=!1):(n.statusofValue=!1,n.checkStatus=!0);var i={id:t.id,DateTime:t.dateTime,Customer:n.listOfAccount.find(function(e){return e.id==+t.customer}).fullName,PhoneNumber:n.listOfAccount.find(function(e){return e.id==+t.customer}).phonenumber,CLocation:n.listOfAccount.find(function(e){return e.id==+t.customer}).locationId,RLocation:t.location,Location:t.location,restaurantStatus:t.restaurantStatuses,Total:t.total,Driver:t.driver,Vehicle:t.vehicle,orderLocation:t.orderLocation,status:t.statuses,checkStatus:n.checkStatus,checkStatusofValue:n.statusofValue},o=new Date(t.dateTime).toDateString();n.currentDate==o&&(n.listOfOrder.push(i),n.increment=n.increment+1),0==n.increment?(n.massge=!0,n.messageOrder="no orders",console.log(n.messageOrder)):n.massge=!1;var a=t.restaurantStatuses.find(function(t){return 1==t.isChecked}),s=t.restaurantStatuses.findIndex(function(t){return 1==t.isChecked});if(0==s)void 0!==a&&(n.dayFinished.includes(a)?n.dayFinished.splice(n.dayFinished.indexOf(a),1):n.dayFinished.push(a),n.setDisabled(a));else if(s)for(var u=t.restaurantStatuses,c=0;c<=u.length;c++)if(c<=s){var d=t.restaurantStatuses[c];void 0!==d&&(n.dayFinished.includes(d)?n.dayFinished.splice(n.dayFinished.indexOf(d),1):n.dayFinished.push(d),n.setDisabled(d))}})):(this.massge=!0,this.messageOrder="no orders");case 9:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"viewOrder",value:function(t){var e=this;this.cart=[],this.listOfOrderDetails.filter(function(e){return e.orderId==t}).forEach(function(t){var r={CookingTime:e.listOfFood.find(function(e){return e.id==t.foodId}).cookingTime,DeliveryTime:e.listOfFood.find(function(e){return e.id==t.foodId}).deliveryTime,Description:e.listOfFood.find(function(e){return e.id==t.foodId}).description,Name:e.listOfFood.find(function(e){return e.id==t.foodId}).name,Price:e.listOfFood.find(function(e){return e.id==t.foodId}).price,amount:t.qty,categoryId:e.listOfFood.find(function(e){return e.id==t.foodId}).categoryId,id:t.foodId,picture:e.listOfFood.find(function(e){return e.id==t.foodId}).picture,restaurantId:e.listOfFood.find(function(e){return e.id==t.foodId}).restaurantId,type:e.listOfFood.find(function(e){return e.id==t.foodId}).type,orderDetailsId:t.id,orderStatus:!0};e.cart.push(r)}),this.orderService.addOrder(this.cart),this.sharedService.status.next("restaurant-home"),this.router.navigate(["/menu/order-history"])}},{key:"setDisabled",value:function(t){return this.dayFinished.includes(t)}},{key:"isChecked",value:function(t,e){var r=this;this.restaurantstatus=[];var n=t.restaurantStatus,i=n.find(function(t){return t.val==e.detail.value});this.dayFinished.includes(i)?this.dayFinished.splice(this.dayFinished.indexOf(i),1):this.dayFinished.push(i),n.forEach(function(t){r.checked=t.val==i.val,r.restaurantstatus.push({id:t.id,val:t.val,isChecked:r.checked})}),this.restaurantstatus.forEach(function(t){r.orderService.updateRestaurantStatus(t).subscribe(function(t){console.log(t.toString()),r.getOrder()})})}},{key:"location",value:function(t){this.sharedService.status.next("restaurant-home"),this.sharedService.RestaurantLocation.next(t),this.router.navigate(["/menu/location"])}},{key:"rejectOrder",value:function(t){for(var e=0;e<this.listOfOrder.length;e++);}},{key:"doRefresh",value:function(t){var e=this;setTimeout(function(){e.getOrder(),t.target.complete()},2e3)}},{key:"showContent",value:function(t,e){this.selectedIndex=e}},{key:"toggleGroup",value:function(t,e,r,n){var i=this;if(this.selectedIndex=-1,this.status=[],0==n)var o=t.status[0];else o=t.status[1];t.status.forEach(function(e){i.checked=e.val==o.val,i.status.push({id:e.id,val:e.val,isChecked:i.checked,Orderid:t.id})}),this.status.forEach(function(t){i.orderService.updateStatus(t).subscribe(function(t){return Object(c.a)(i,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t.toString()),this.getOrder();case 4:case"end":return e.stop()}},e,this)}))},function(t){return Object(c.a)(i,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}),"Reject"!==r?(this.indexes.push({id:e}),this.indexes.length>0?this.indexes.forEach(function(t){i.selectedIndex=t.id}):this.selectedIndex=e):this.presentAlert("reject order")}},{key:"onClick",value:function(t){var e=this;Object.keys(this.hideme).forEach(function(t){e.hideme[t]=!1}),this.hideme[t.id]=!0}},{key:"presentAlert",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({color:"success",duration:2e3,message:t});case 2:return r=e.sent,e.next=5,r.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"scroll",value:function(t){this.showScroll=t.detail.scrollTop>300}}]),t}(),x.\u0275fac=function(t){return new(t||x)(d.Qb(f.a),d.Qb(o.a),d.Qb(l.a),d.Qb(h.a),d.Qb(v.a),d.Qb(u.g),d.Qb(p.a),d.Qb(s.Z),d.Qb(s.S),d.Qb(g.a))},x.\u0275cmp=d.Kb({type:x,selectors:[["app-restaurant-home"]],viewQuery:function(t,e){var r;1&t&&d.Ic(m,1),2&t&&d.uc(r=d.hc())&&(e.pageTop=r.first)},decls:16,vars:8,consts:[[3,"translucent"],["color","primary"],["slot","start"],[2,"text-align","center"],["scrollEvents","true",3,"fullscreen","ionScroll"],["pageTop",""],["slot","fixed",3,"ionRefresh"],["class","message",4,"ngIf"],[1,"orders"],["class","ion-padding meal-row",3,"ngClass",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",3,"ngClass"],["color","light",3,"click"],["md","chevron-up-outline","ios","chevron-up-circle-outline"],[1,"message"],[2,"margin-left","86px","margin-top","26px","font-size","24px","text-align","center"],[1,"ion-padding","meal-row",3,"ngClass"],["size","8",1,"border-bottom"],["fill","clear",3,"click"],[4,"ngIf"],["class","status",4,"ngIf"],["size","4",1,"border-bottom"],[3,"click"],["name","location-outline"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"status"],[2,"padding-top","9px","padding-left","5px"],["interface","popover",3,"ionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],[3,"disabled","value"]],template:function(t,e){1&t&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Rb(3,"ion-menu-button"),d.Ub(),d.Vb(4,"ion-title",3),d.Ec(5,"Orders"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"ion-content",4,5),d.gc("ionScroll",function(t){return e.scroll(t)}),d.Vb(8,"ion-refresher",6),d.gc("ionRefresh",function(t){return e.doRefresh(t)}),d.Rb(9,"ion-refresher-content"),d.Ub(),d.Cc(10,b,5,1,"div",7),d.Vb(11,"div",8),d.Cc(12,R,21,16,"ion-row",9),d.Ub(),d.Vb(13,"ion-fab",10),d.Vb(14,"ion-fab-button",11),d.gc("click",function(){return e.pageScroller()}),d.Rb(15,"ion-icon",12),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.oc("translucent",!0),d.Eb(6),d.oc("fullscreen",!0),d.Eb(4),d.oc("ngIf",1==e.massge),d.Eb(2),d.oc("ngForOf",e.listOfOrder),d.Eb(1),d.oc("ngClass",d.sc(5,U,e.showScroll,!e.showScroll)))},directives:[s.q,s.P,s.i,s.B,s.N,s.k,s.D,s.E,n.n,n.m,s.m,n.l,s.n,s.r,s.p,s.G,s.y,s.j,s.h,s.J,s.X,s.K],pipes:[n.d,n.f],styles:["ion-row[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-top:19px;padding-left:107px}ion-button[_ngcontent-%COMP%]{padding-left:0}ion-grid[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border-radius:9px;background-color:#f5f5f5;height:79px}ion-label[_ngcontent-%COMP%]   .orderMessage[_ngcontent-%COMP%]{padding-left:160px;padding-top:24px;font-size:28px;font-style:normal;font-family:cursive;margin-left:86px;margin-top:26px;font-size:24px;text-align:center}.active-category[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--color:#fff;--border-radius:3px;font-weight:600}.location-visible[_ngcontent-%COMP%]{opacity:1;transition:.5s}.location-hidden[_ngcontent-%COMP%]{opacity:0;transition:.5s}"]}),x)}],E=((C=function t(){i(this,t)}).\u0275fac=function(t){return new(t||C)},C.\u0275mod=d.Ob({type:C}),C.\u0275inj=d.Nb({imports:[[u.j.forChild(A)],u.j]}),C),P=((S=function t(){i(this,t)}).\u0275fac=function(t){return new(t||S)},S.\u0275mod=d.Ob({type:S}),S.\u0275inj=d.Nb({imports:[[n.c,o.d,s.Q,E,o.k]]}),S)},ldse:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r("2Vo4"),o=r("fXoL"),s=function(){var t=function(){function t(){i(this,t),this.restaurant=new n.a({}),this.status=new n.a({}),this.location=new n.a({}),this.orderId=new n.a({}),this.RestaurantLocation=new n.a({}),this.resId=new n.a({}),this.listOfCatagoryFilter=new n.a({})}return a(t,[{key:"getMenuFilter",value:function(){return this.listOfCatagoryFilter}},{key:"getLocation",value:function(){return this.location}},{key:"getStatus",value:function(){return this.status}},{key:"getRestaurantLocation",value:function(){return this.RestaurantLocation}},{key:"getRestaurantId",value:function(){return this.resId}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();