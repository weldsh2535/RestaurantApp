{"version":3,"sources":["webpack:///src/app/login/login.page.ts","webpack:///src/app/login/login.page.html","webpack:///src/app/login/login.module.ts","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.page.scss"],"names":["LoginPage","authServices","router","alertCtrl","fb","modalController","platform","regform","group","email","password","get","value","valid","signUpUser","subscribe","result","length","localStorage","setItem","id","FullName","type","active","navigate","presentAlert","reset","subscription","backButton","navigator","exitApp","unsubscribe","message","create","cssClass","header","buttons","alert","present","fieldTextType","selector","template","LoginPageModule","imports","declarations","routes","path","component","LoginPageRoutingModule","forChild","exports"],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\nimport { AuthService } from '../Service/auth.service';\nimport { SignupPage } from '../signup/signup.page';\n\n@Component({\n\tselector: 'app-login',\n\ttemplateUrl: './login.page.html',\n\tstyleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\tregform = this.fb.group({});\n\tfieldTextType: boolean;\n\tpublic subscription: any;\n\tconstructor(private authServices: AuthService, private router: Router,\n\t\tprivate alertCtrl: AlertController, private fb: FormBuilder,\n\t\tprivate modalController: ModalController,\n\t\tprivate platform: Platform) { }\n\n\tngOnInit() {\n\t\tthis.regform = this.fb.group({\n\t\t\temail: [\"\"],\n\t\t\tpassword: [\"\"]\n\t\t})\n\t}\n\tsignIn() {\n\t\tlet email = this.regform.get(\"email\").value;\n\t\tlet password = this.regform.get(\"password\").value;\n\t\tif (this.regform.valid) {\n\t\t\tthis.authServices.signUpUser(email, password).subscribe(result => {\n\t\t\t\tif (result.length > 0) {\n\t\t\t\t\tlocalStorage.setItem(\"userId\", result[0].id);\n\t\t\t\t\tlocalStorage.setItem(\"fullName\", result[0].FullName);\n\t\t\t\t\tlocalStorage.setItem(\"roleType\", result[0].type);\n\t\t\t\t\tlocalStorage.setItem('active', result[0].active);\n\t\t\t\t\tif (result[0].type == \"driver\") {\n\t\t\t\t\t\tif (result[0].active == \"true\") {\n\t\t\t\t\t\t\tthis.router.navigate(['/menu/driver-home']);\n\t\t\t\t\t\t\tthis.presentAlert(\"Login successfully.\");\n\t\t\t\t\t\t\tthis.regform.reset();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.presentAlert(\"Please contact your system administrator\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (result[0].type == \"restaurant\") {\n\t\t\t\t\t\tif (result[0].active == \"true\") {\n\t\t\t\t\t\t\tthis.router.navigate(['/menu/restaurant-home']);\n\t\t\t\t\t\t\tthis.presentAlert(\"Login successfully.\");\n\t\t\t\t\t\t\tthis.regform.reset();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.presentAlert(\"Please contact your system administrator\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.router.navigate(['/menu']);\n\t\t\t\t\t\tthis.presentAlert(\"Login successfully.\");\n\t\t\t\t\t\tthis.regform.reset();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.presentAlert(\"Please enter correct username and password!!\");\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\tionViewDidEnter() {\n\t\tthis.subscription = this.platform.backButton.subscribe(() => {\n\t\t\tnavigator['app'].exitApp();\n\t\t});\n\t}\n\n\tionViewWillLeave() {\n\t\tthis.subscription.unsubscribe();\n\t}\n\tasync presentAlert(message) {\n\t\tconst alert = await this.alertCtrl.create({\n\t\t\tcssClass: 'my-custom-class',\n\t\t\theader: 'Login',\n\t\t\t// subHeader: 'Subtitle',\n\t\t\tmessage: message,\n\t\t\tbuttons: ['OK']\n\t\t});\n\t\tawait alert.present();\n\t}\n\ttoggleFieldTextType() {\n\t\tthis.fieldTextType = !this.fieldTextType;\n\t}\n\tregister() {\n\t\tthis.router.navigate([\"/signup\"]);\n\t}\n\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n\\t<ion-toolbar color=\\\"primary\\\">\\n\\t\\t<ion-title style=\\\"text-align: center;\\\">Login </ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\t<div class=\\\"container pt-3\\\">\\n\\t\\t<div class=\\\"row justify-content-sm-center\\\">\\n\\t\\t\\t<div class=\\\"col-sm-10 col-md-6\\\">\\n\\t\\t\\t\\t<div class=\\\"card border-info\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-header\\\">Login</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t<!-- <div class=\\\"col-md-4 text-center\\\">\\n\\t\\t\\t\\t\\t <ion-icon name=\\\"lock-closed\\\"></ion-icon> \\n\\t\\t\\t\\t  </div> -->\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<form [formGroup]=\\\"regform\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"mail\\\"></ion-icon>&nbsp;&nbsp;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-input type=\\\"text\\\" formControlName=\\\"email\\\" [required] placeholder=\\\"Enter your email\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"lock-closed\\\"></ion-icon>&nbsp;&nbsp;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-input placeholder=\\\"Enter your password\\\" [type]=\\\"fieldTextType ? 'text' : 'password'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"password\\\" [required]></ion-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"fa\\\" [ngClass]=\\\"{\\n\\t\\t\\t\\t\\t\\t  'fa-eye-slash': !fieldTextType,\\n\\t\\t\\t\\t\\t\\t  'fa-eye': fieldTextType\\n\\t\\t\\t\\t\\t\\t}\\\" (click)=\\\"toggleFieldTextType()\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t    <button style=\\\"margin-top: 12px\\\" (click)=\\\"signIn()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-lg btn-primary btn-block mb-1\\\" type=\\\"submit\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tLogin\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-label>Don't have an account ?</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button style=\\\"margin-left: -37px; color: #234ada; background-color: #f8f9fa;\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"register()\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tRegister\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t  </button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</ion-content>\\n<router-outlet></router-outlet>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";"]}