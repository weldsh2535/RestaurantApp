{"version":3,"sources":["webpack:///src/app/restaurant-history/restaurant-history.page.scss","webpack:///src/app/restaurant-history/restaurant-history.page.html","webpack:///src/app/restaurant-history/restaurant-history-routing.module.ts","webpack:///src/app/restaurant-history/restaurant-history.page.ts","webpack:///src/app/restaurant-history/restaurant-history.module.ts"],"names":["routes","path","component","RestaurantHistoryPageRoutingModule","imports","forChild","exports","RestaurantHistoryPage","orderService","accountService","orderDetailsService","foodService","sharedService","router","cart","getOrder","getFood","getOrderDetails","getAllOrderDetail","subscribe","res","listOfOrderDetails","getAllFood","listOfFood","getAllOrder","UserId","localStorage","getItem","result","filter","c","RestaurantId","restaurantStatus","find","isChecked","val","length","listOfOrder","forEach","element","getAllAccount","data","id","DateTime","Customer","FullName","PhoneNumber","phonenumber","CLocation","FirstTimeLocation","RLocation","Location","Total","Driver","Vehicle","orderNo","orderLocation","push","orderDetails","OrderId","el","CookingTime","Food","DeliveryTime","Description","Name","Price","amount","Qty","categoryId","picture","restaurantId","type","orderDetailsId","orderStatus","addOrder","status","next","navigate","location","RestaurantLocation","selector","template","RestaurantHistoryPageModule","declarations"],"mappings":"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","file":"restaurant-history-restaurant-history-module-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZXN0YXVyYW50LWhpc3RvcnkucGFnZS5zY3NzIn0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"text-align: center\\\">My orders</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div class=\\\"orders\\\">\\n    <ion-row\\n      *ngFor=\\\"let meal of listOfOrder ;let i = index\\\"\\n      class=\\\"ion-padding meal-row\\\"\\n    >\\n      <ion-col size=\\\"8\\\" class=\\\"border-bottom\\\">\\n        <ion-label>\\n          <p color=\\\"primary\\\">Total : {{ meal.Total | currency:'ETB' }}</p>\\n        </ion-label>\\n        <ion-button style=\\\"margin-top: -14px;\\\" fill=\\\"clear\\\" (click)=\\\"viewOrder(meal.id)\\\">\\n          view order\\n        </ion-button>\\n        <ion-row class=\\\"status\\\">\\n          <ion-label style=\\\"padding-top: 9px; padding-left: 5px\\\"\\n            >Status</ion-label\\n          >\\n          <ion-button style=\\\"margin-top: -1px;\\\" fill=\\\"clear\\\" >\\n            Ready to service\\n          </ion-button>\\n      </ion-row>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\" class=\\\"border-bottom\\\">\\n        <ion-label>\\n          {{ meal.Customer }}\\n          <p>{{ meal.PhoneNumber }}</p>\\n          <span>\\n            <ion-button (click)=\\\"location(meal.CLocation)\\\"\\n              ><ion-icon name=\\\"location-outline\\\"></ion-icon\\n            ></ion-button>\\n          </span>\\n        </ion-label>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RestaurantHistoryPage } from './restaurant-history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RestaurantHistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RestaurantHistoryPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AccountService } from '../Service/account.service';\nimport { FoodService } from '../Service/food.service';\nimport { OrderDetailService } from '../Service/order-detail.service';\nimport { OrderService } from '../Service/order.service';\nimport { SharedService } from '../Service/shared.service';\n\n@Component({\n  selector: 'app-restaurant-history',\n  templateUrl: './restaurant-history.page.html',\n  styleUrls: ['./restaurant-history.page.scss'],\n})\nexport class RestaurantHistoryPage implements OnInit {\n  UserId: string;\n  listOfOrder: any;\n  cart = [];\n  listOfOrderDetails: any[];\n  listOfFood: any[];\n\n  constructor(  private orderService: OrderService,\n    private accountService: AccountService,\n    private orderDetailsService: OrderDetailService,\n    private foodService:FoodService,\n    private sharedService:SharedService,\n    private router:Router) { }\n\n  ngOnInit() {\n    this.getOrder();\n    this.getFood();\n    this.getOrderDetails();\n  }\n  getOrderDetails() {\n    this.orderDetailsService.getAllOrderDetail().subscribe(res => {\n      this.listOfOrderDetails = res;\n    })\n  }\n  getFood() {\n    this.foodService.getAllFood().subscribe(res => {\n      this.listOfFood = res;\n    })\n  }\n  getOrder() {\n    this.orderService.getAllOrder().subscribe(res => {\n      this.UserId = localStorage.getItem(\"userId\");\n     let result = res.filter(c => c.RestaurantId == this.UserId && c.restaurantStatus.find(c=>c.isChecked==true && c.val==\"ready to service\") );\n      if (result.length > 0 ) {\n        this.listOfOrder = [];\n        result.forEach(element => {\n          this.accountService.getAllAccount().subscribe(result => {\n            let data = {\n              id: element.id,\n              DateTime: element.DateTime,\n              Customer: result.find(c => c.id == element.Customer).FullName,\n              PhoneNumber: result.find(c => c.id == element.Customer).phonenumber,\n              CLocation: result.find(c => c.id == element.Customer).FirstTimeLocation,\n              RLocation: element.Location,\n              Location: element.Location,\n              restaurantStatus: element.restaurantStatus,\n              Total: element.Total,\n              Driver: element.Driver,\n              Vehicle: element.Vehicle,\n              orderNo: element.orderNo,\n              orderLocation: element.orderLocation\n            }\n            this.listOfOrder.push(data);\n          })\n        });\n      }\n    })\n  }\n  viewOrder(id) {\n    this.cart = [];\n    let orderNo = this.listOfOrder.find(c => c.id == id).orderNo;\n    let orderDetails = this.listOfOrderDetails.filter(c => c.OrderId == orderNo);\n    orderDetails.forEach(el => {\n      let data = {\n        CookingTime: this.listOfFood.find(c => c.id == el.Food).CookingTime,\n        DeliveryTime: this.listOfFood.find(c => c.id == el.Food).DeliveryTime,\n        Description: this.listOfFood.find(c => c.id == el.Food).Description,\n        Name: this.listOfFood.find(c => c.id == el.Food).Name,\n        Price: this.listOfFood.find(c => c.id == el.Food).Price,\n        amount: el.Qty,\n        categoryId: this.listOfFood.find(c => c.id == el.Food).categoryId,\n        id: el.Food,\n        picture: this.listOfFood.find(c => c.id == el.Food).picture,\n        restaurantId: this.listOfFood.find(c => c.id == el.Food).restaurantId,\n        type: this.listOfFood.find(c => c.id == el.Food).type,\n        orderDetailsId: el.id,\n        orderStatus: true\n      }\n      this.cart.push(data);\n    });\n    this.orderService.addOrder(this.cart);\n    this.sharedService.status.next(\"restaurant-history\");\n    this.router.navigate([\"/menu/order-history\"]);\n  }\n  location(location) {\n    this.sharedService.status.next(\"restaurant-history\");\n    this.sharedService.RestaurantLocation.next(location);\n    this.router.navigate([\"/menu/location\"]);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RestaurantHistoryPageRoutingModule } from './restaurant-history-routing.module';\n\nimport { RestaurantHistoryPage } from './restaurant-history.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RestaurantHistoryPageRoutingModule\n  ],\n  declarations: [RestaurantHistoryPage]\n})\nexport class RestaurantHistoryPageModule {}\n"]}