{"version":3,"sources":["webpack:///src/app/Service/order-detail.service.ts","webpack:///src/app/Service/food.service.ts","webpack:///src/app/Service/order.service.ts","webpack:///src/app/Service/shared.service.ts"],"names":["OrderDetailService","db","orderDetailCollectionList","collection","orderObj","add","orderDetailList","snapshotChanges","pipe","actions","map","a","data","payload","doc","id","valueChanges","update","handleError","error","status","json","providedIn","FoodService","foodCollectionList","foodObj","foodList","OrderService","sharedService","cart","cartItemCount","RestaurantId","orderStatus","order","orderItemCount","orderCollectionList","values","then","docRef","orderId","next","orderList","ref","where","changes","driverId","items","amount","forEach","el","index","indexOf","c","orderDetailsId","splice","element","CookingTime","DeliveryTime","Description","Name","Price","categoryId","Food","picture","restaurantId","type","push","value","product","added","p","entries","SharedService","restaurant","location","RestaurantLocation","resId"],"mappings":"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","file":"default~cart-modal-cart-modal-module~details-details-module~driver-home-driver-home-module~order-his~85fcea61-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { OrderDetail } from 'src/Table/table';\nimport { AppError } from '../common/app-error';\nimport { BadInput } from '../common/bad-input';\nimport { NotFoundError } from '../common/not-found-error';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderDetailService {\n  private orderDetailCollectionList: AngularFirestoreCollection<any>;\n  private orderDetailList: Observable<any[]>;\n  constructor(private db: AngularFirestore) {\n    this.orderDetailCollectionList = db.collection<OrderDetail>('OrderDetail');\n  }\n  create(orderObj) { \n    return this.orderDetailCollectionList.add(orderObj)\n  }\n  getAllOrderDetail() {\n    this.orderDetailList = this.orderDetailCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.orderDetailList;\n  }\n  getOrderDetail(id) {\n    return this.orderDetailCollectionList.doc<any>(id).valueChanges();\n  }\n  updateOrderDetail(orderObj: OrderDetail, id: string) {\n    return this.orderDetailCollectionList.doc(id).update(orderObj)\n    .catch(this.handleError);\n  }\n  removeOrderDetail(id) {\n    return this.orderDetailCollectionList.doc(id).delete()\n    .catch(this.handleError);\n  }\n  private handleError(error: Response) {\n    if (error.status === 400)\n      return Observable.throw(new BadInput(error.json()));\n    if (error.status === 404)\n      return Observable.throw(new NotFoundError());\n     return Observable.throw(new AppError(error));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { Food} from 'src/Table/table';\nimport { AppError } from '../common/app-error';\nimport { BadInput } from '../common/bad-input';\nimport { NotFoundError } from '../common/not-found-error';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FoodService {\n  private foodCollectionList: AngularFirestoreCollection<any>;\n  private foodList: Observable<any[]>;\n  constructor(private db: AngularFirestore) {\n    this.foodCollectionList = db.collection<Food>('Food');\n  }\n  create(foodObj) { \n    return this.foodCollectionList.add(foodObj)\n  }\n  getAllFood() {\n    this.foodList = this.foodCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.foodList;\n  }\n  getFood(id) {\n    return this.foodCollectionList.doc<any>(id).valueChanges();\n  }\n  updateFood(foodObj: Food, id: string) {\n    return this.foodCollectionList.doc(id).update(foodObj)\n    .catch(this.handleError);\n  }\n  removeFood(id) {\n    return this.foodCollectionList.doc(id).delete()\n    .catch(this.handleError);\n  }\n  private handleError(error: Response) {\n    if (error.status === 400)\n      return Observable.throw(new BadInput(error.json()));\n  \n    if (error.status === 404)\n      return Observable.throw(new NotFoundError());\n    \n    return Observable.throw(new AppError(error));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { Order } from 'src/Table/table';\nimport { AppError } from '../common/app-error';\nimport { BadInput } from '../common/bad-input';\nimport { NotFoundError } from '../common/not-found-error';\nimport { SharedService } from './shared.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n  private cart = [];\n  private cartItemCount = new BehaviorSubject(0);\n  RestaurantId = new BehaviorSubject<any>({});\n  orderStatus = new BehaviorSubject<any>({});\n  private orderCollectionList: AngularFirestoreCollection<any>;\n  private orderList: Observable<Order[]>;\n  amount: number;\n  private order=[];\n  private orderItemCount  = new BehaviorSubject(0);\n  constructor(private db: AngularFirestore,\n    private sharedService: SharedService) {\n    this.orderCollectionList = db.collection<Order>('Order');\n  }\n  create(orderObj) {\n    let values = this.orderCollectionList.add(orderObj)\n      .then((docRef) => {\n        this.sharedService.orderId.next(docRef.id);\n      })\n    return values;\n  }\n  getAllOrder() {\n    this.orderList = this.orderCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.orderList;\n  }\n  getOrderBy(id){\n    const orderObj = this.db.collection('Order', ref => ref.where('id', '==', id)).snapshotChanges();\n    this.orderList = orderObj.pipe(\n      map(changes => changes.map(a => {\n        const data = a.payload.doc.data() as Order;\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      }))\n    );\n    return this.orderList;\n  }\n  getOrderByDriverId(driverId){\n    const orderObj = this.db.collection('Order', ref => ref.where('Driver', '==', driverId)).snapshotChanges();\n    this.orderList = orderObj.pipe(\n      map(changes => changes.map(a => {\n        const data = a.payload.doc.data() as Order;\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      }))\n    );\n    return this.orderList;\n  }\n  getOrder(id) {\n    return this.orderCollectionList.doc<any>(id).valueChanges();\n  }\n  updateOrder(orderObj: Order, id: string) {\n    return this.orderCollectionList.doc(id).update(orderObj)\n      .catch(this.handleError);\n  }\n  removeOrder(id) {\n    return this.orderCollectionList.doc(id).delete()\n      .catch(this.handleError);\n  }\n  private handleError(error: Response) {\n    if (error.status === 400)\n      return Observable.throw(new BadInput(error.json()));\n    if (error.status === 404)\n      return Observable.throw(new NotFoundError());\n    return Observable.throw(new AppError(error));\n  }\n  getCart() {\n    return this.cart;\n  }\n  getOrders(){\n    return this.order;\n  }\n  getCartItemCount() {\n    return this.cartItemCount;\n  }\n  getOrderItemCount(){\n    return this.orderItemCount;\n  }\n  getRestaurantId() {\n    return this.RestaurantId;\n  }\n  getOrderStatus() {\n    return this.orderStatus;\n  }\n  addOrder(items) {\n   this.order =[]\n   this.amount =0;\n    this.order.forEach(el=>{\n      let index = this.order.indexOf(c=>c.orderDetailsId===el.orderDetailsId)\n      this.order.splice(index,1)\n    });\n    this.orderItemCount.next(0);\n    items.forEach(element => {\n    this.amount = this.amount + element.amount\n      let data = {\n        CookingTime: element.CookingTime,\n        DeliveryTime: element.DeliveryTime,\n        Description: element.Description,\n        Name: element.Name,\n        Price: element.Price,\n        amount: element.amount,\n        categoryId: element.categoryId,\n        id: element.Food,\n        picture: element.picture,\n        restaurantId: element.restaurantId,\n        type:element.type,\n        orderDetailsId:element.orderDetailsId,\n      }\n      this.order.push(data);\n      });\n    this.orderItemCount.next(this.orderItemCount.value + this.amount);\n  }\n  addProduct(product) {\n    let added = false;\n    for (let p of this.cart) {\n      if (p.id === product.id) {\n        p.amount += 1;\n        added = true;\n        break;\n      }\n    }\n    if (!added) {\n      product.amount = 1;\n      this.cart.push(product);\n    }\n    this.cartItemCount.next(this.cartItemCount.value + 1);\n  }\n\n  decreaseProduct(product) {\n    for (let [index, p] of this.cart.entries()) {\n      if (p.id === product.id) {\n        p.amount -= 1;\n        if (p.amount == 0) {\n          this.cart.splice(index, 1);\n        }\n      }\n    }\n    this.cartItemCount.next(this.cartItemCount.value - 1);\n  }\n\n  removeProduct(product) {\n    for (let [index, p] of this.cart.entries()) {\n      if (p.id === product.id) {\n        this.cartItemCount.next(this.cartItemCount.value - p.amount);\n        this.cart.splice(index, 1);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject,Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n  restaurant = new BehaviorSubject<any>({});\n  status= new BehaviorSubject<any>({});\n  location = new BehaviorSubject<any>({});\n  orderId = new BehaviorSubject<any> ({});\n  RestaurantLocation = new BehaviorSubject<any>({});\n  resId = new BehaviorSubject<any>({});\n  getLocation(){\n    return this.location;\n  }\n  getStatus(){\n    return this.status;\n  }\n  getRestaurantLocation(){\n    return this.RestaurantLocation;\n  }\n  getRestaurantId(){\n    return this.resId;\n  }\n  constructor() { }\n}\n"]}